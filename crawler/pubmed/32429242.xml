<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE collection SYSTEM "BioC.dtd">
<collection><source>PMC</source><date>20201222</date><key>pmc.key</key><document><id>7288172</id><infon key="license">CC BY</infon><passage><infon key="article-id_doi">10.3390/s20102818</infon><infon key="article-id_pmc">7288172</infon><infon key="article-id_pmid">32429242</infon><infon key="article-id_publisher-id">sensors-20-02818</infon><infon key="elocation-id">2818</infon><infon key="issue">10</infon><infon key="kwd">crowdsourced samples pedestrian dead reckoning (PDR) equipment calibration Gaussian kernel density estimation</infon><infon key="license">Licensee MDPI, Basel, Switzerland. This article is an open access article distributed under the terms and conditions of the Creative Commons Attribution (CC BY) license (http://creativecommons.org/licenses/by/4.0/).</infon><infon key="name_0">surname:Guo;given-names:Ruolin</infon><infon key="name_1">surname:Qin;given-names:Danyang</infon><infon key="name_2">surname:Zhao;given-names:Min</infon><infon key="name_3">surname:Wang;given-names:Xinxin</infon><infon key="section_type">TITLE</infon><infon key="type">front</infon><infon key="volume">20</infon><infon key="year">2020</infon><offset>0</offset><text>Indoor Radio Map Construction Based on Position Adjustment and Equipment Calibration</text></passage><passage><infon key="section_type">ABSTRACT</infon><infon key="type">abstract</infon><offset>85</offset><text>The crowdsourcing-based wireless local area network (WLAN) indoor localization system has been widely promoted for the effective reduction of the workload from the offline phase data collection while constructing radio maps. Aiming at the problem of the diverse terminal devices and the inaccurate location annotation of the crowdsourced samples, which will result in the construction of the wrong radio map, an effective indoor radio map construction scheme (RMPAEC) is proposed based on position adjustment and equipment calibration. The RMPAEC consists of three main modules: terminal equipment calibration, pedestrian dead reckoning (PDR) estimated position adjustment, and fingerprint amendment. A position adjustment algorithm based on selective particle filtering is used by RMPAEC to reduce the cumulative error in PDR tracking. Moreover, an inter-device calibration algorithm is put forward based on receiver pattern analysis to obtain a device-independent grid fingerprint. The experimental results demonstrate that the proposed solution achieves higher localization accuracy than the peer schemes, and it possesses good effectiveness at the same time.</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">title_1</infon><offset>1248</offset><text>1. Introduction</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>1264</offset><text>With the large-scale deployment of the Internet and the proliferation of mobile computing, Location Based Service (LBS) has permeated into various fields of modern life, such as map navigation and location acquisition. The Global Positioning System (GPS) can complete tracking for most outdoor LBS successfully, but, in indoor scenes, it does not work as well as outdoors due to factors such as signal attenuation and multipath effect. Since Wireless Local Area Networks (WLANs) have been deployed on a large scale in public places such as schools, hospitals, shopping malls, etc., it is possible to estimate the location of users by relying solely on software development without using any additional hardware facilities.</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>1987</offset><text>At present, the most widely used Wi-Fi-based indoor positioning algorithm is a position fingerprint localization algorithm based on crowdsourced samples, where the position fingerprint sets up a mapping from the location in the physical environment to a single- or multi-dimensional fingerprint of some kind to ensure one location for each unique fingerprint. The fingerprint in the Wi-Fi position fingerprint localization algorithm refers to the received signal strength (RSS) of the access point (AP). Crowdsourcing technology can reduce or even eliminate the huge workload of site surveying, which will hand over the construction of radio map to a large number of users and integrate a small amount of RSS data collected by each user to obtain the radio map data for a large area.</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>2771</offset><text>In the offline phase of the traditional WLAN fingerprint localization system, the target environment is zoned as non-overlapping grid cells uniformly. The RSS samples are collected by crowdsourcing users at the center of each grid, and the user’s position coordinates are recorded in the fingerprint database along with the corresponding RSS values. In the online positioning phase, a test fingerprint can be positioned to a grid center with the minimal fingerprint distance. The crowdsourced samples, however, may not be acquired at the specified reference point, which may cause incorrect location annotation of the sample as well as constructing the wrong radio map. To solve this problem, a widely used pedestrian dead reckoning (PDR) method utilizing inertial sensor has been proposed, which can sense the acceleration and direction angle of pedestrians during the travel process through the Inertial Measurement Unit (IMU) without beacons, so as to achieve the aim of pedestrian positioning. However, the original values of the triaxial acceleration, triaxial angular velocity, and triaxial magnetometer will have a fixed deviation from the real value. Moreover, the different mobile terminals used to collect fingerprint data may cause serious device diversity problems, no matter in online phase or offline phase.</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>4095</offset><text>Aiming at the problems discussed above, an indoor radio map construction scheme (RMPAEC) is proposed based on position adjustment and equipment calibration in this paper. The inter-device calibration algorithm is optimized based on receiver pattern analysis, which can help achieve high-precision radio map construction. Moreover, on the basis of a proposed weighted signal distance calculation method, the PDR estimated position is adjusted by using particle filter. Finally, a fingerprint amendment method based on kernel density estimation is put forward to update the offline radio map constructed using the proposed scheme.</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>4724</offset><text>The subsequent sections are arranged as follows. Section 2 briefly reviews the related work. Section 3 introduces the detailed system design and the three modules of RMPAEC. The simulating results are analyzed and the conclusion discussed in Section 4 and Section 5, respectively.</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">title_1</infon><offset>5005</offset><text>2. Related Work</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>5021</offset><text>In this section, we briefly review the related work focusing on fingerprinting-based position adjustment and trajectory-based fingerprint crowdsourcing. The localization error shows randomness within a certain range, due to the low positioning accuracy of the method using WLAN fingerprint database alone, which may make the located pedestrian trajectory inconsistent. The PDR positioning system can provide coherent and accurate relative motion information in a short time, but the long-term movement makes the cumulative error serious. Considering the complementary features of Wi-Fi and PDR system, researchers have tried to fuse together the two technologies to adjust PDR offset using the absolute position provided by Wi-Fi fingerprint.</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>5764</offset><text>A localization algorithm that fuses PDR and Wi-Fi fingerprint on the Android platform was presented by Zhou and Xu, who mainly studied the two aspects of step detection and course angle estimation and obtained relatively optimal positioning results. However, the step recognition algorithm proposed in this paper only roughly summarizes the biological characteristics of pedestrian steps, and, at the same time, the starting and ending time point of the steps are roughly estimated, which adversely affects the later estimation accuracy. Two-band Wi-Fi signals of 2.4 G and 5.0 G were combined with PDR to achieve fusion positioning by Karlsson et al.. However, the Wi-Fi signal propagation models in different indoor scenes, and the initial orientation and position of the built-in sensors in smartphones were ignored by this hybrid system. In addition, some researchers have used Kalman filter to optimize the positioning effect of Wi-Fi and PDR hybrid systems. For example, a Kalman filter was constructed to integrate Wi-Fi and PDR, and incorporate indoor landmarks into the positioning algorithm by Chen et al.. Li et al. proposed a combined pedestrian tracking based on Wi-Fi, geomagnetic, and PDR under the attitudes of four devices. Furthermore, Kalman filter was adopted to improve the reliability of positioning navigation and reduce the dependence on navigation environment and movement. To improve localization error, some authors have applied the Wi-Fi and PDR fusion method utilizing extended Kalman filter, together with indoor landmark recognition and calibration. Similarly, Min et al. used indoor maps to constrain pedestrian track estimation, and adopted extended Kalman filter to combine Wi-Fi positioning with its positioning results, so as to obtain improved positioning estimation. Moreover, particle filter is also used as a fusion algorithm to establish indoor localization structure based on Wi-Fi and PDR. In addition, Li et al. proposed the utilization of adaptive and Luban Kalman filters to attenuate the impact of environmental noise in Wi-Fi and PDR fusion positioning technology.</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>7877</offset><text>For trajectory-based fingerprint crowdsourcing, Zee used an inertial sensor to track the user’s trajectory, and the initial position was set as a uniform distribution in the space. Then, the predicted position was converged to the real position according to the map constraints and trajectory shape, and further used backward belief transfer to obtain the trajectory of the entire path forward. The resulting trajectory was used to label the signal fingerprint during the process of generating the trajectory and generate the fingerprint database. LiFS proposed a new framework for constructing the signal fingerprint database of an implicit crowdsourcing concept. By using multi- dimensional scaling (MDS) twice, the Wi-Fi signals detected by mobile device holders are mapped to the tracks; in terms of action model, it only needs to measure the number of steps between two fingerprint signals. FreeLoc mainly studied how to carry out effective indoor positioning based on Wi-Fi in an environment with device differences and data contributed by multiple people. RCILS abstracted the indoor layout into a semantic graph to map with activity sequences contained within the trajectories.</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">title_1</infon><offset>9065</offset><text>3. Construction of Offline Radio Map</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">title_2</infon><offset>9102</offset><text>3.1. System Model</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>9120</offset><text>The target environment is divided into different sub-regions according to the functional layout of the indoor environment and wall partitions, such as classrooms, corridors, etc. Each sub-region is then further zoned as grid cells of the same size. Users participating in crowdsourcing collect step RSS samples from walking trajectories, and each sample has a location annotation in the grid. Finally, these samples are represented in the form of data cubes, that is, each grid has a data cube to form a grid fingerprint, thereby constructing an offline radio map M for each sub-region.</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>9707</offset><text>Let S and F represent the sample set of a grid and its fingerprint, respectively. The sample set S is represented by a data cube, where each vertical slice of the data cube represents a sample acquired by a different device D, and each row vector in the slice represents a sample consisting of collected RSS values from different APs. Taking a sample collected by a device as an example, each color unit of a data cube is a tuple , where  denotes the RSS value received from the jth AP by the ith sample, and each  is assigned a credibility coefficient  to denote the confidence level. The missing tuple in samples shows that the corresponding AP in this sample is undetectable, for example,  is lost in . F is the grid fingerprint vector, whose structure is defined as , where M is the number of all detectable APs and  represents the weighted average RSS value of the jth detectable AP. Assign a reliability coefficient  to each  to define the importance of each element in the fingerprint. An  RSS matrix  is constructed for each device, where N is the total number of samples collected in each grid. The common RSS average method is used to construct a device-specific fingerprint f for each grid. The average RSS of the jth AP is defined as , where  is the vector in the jth column of .</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>10999</offset><text>The proposed system consists of three modules: (1) Terminal Equipment Calibration (TEC); (2) PDR Estimated Position Adjustment (PEPA); and (3) Fingerprint Amendment (FA), with the help of which the proposed scheme RMPAEC can solve the two core problems and update offline radio map. Each grid fingerprint is constructed by the corresponding process on the original data cube. The system architecture and data processing flow of the proposed RMPAEC are shown in Figure 1 and Figure 2, respectively. The three modules of the proposed scheme are introduced below.</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">title_2</infon><offset>11560</offset><text>3.2. Terminal Equipment Calibration (TEC)</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>11602</offset><text>Different types of mobile phones participating in crowdsourced fingerprint collection have different antennas and receiver gains, which may cause at least two problems: (1) sample measurements from the same source may be different even at the same place; and (2) much storage space and computing time may be taken to create multiple grid fingerprints for one specific equipment.</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>11981</offset><text>Therefore, a new inter-device calibration algorithm is proposed to calibrate specific fingerprints for different devices and combine the fingerprints collected by multiple devices into an equipment-independent grid fingerprint. Figure 3 gives the comparisons of the RSS values at the same measuring locations using four different devices, which shows that there are similar differences between different APs.</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>12390</offset><text>Let  denote the set of device-specific fingerprints, and  is set to represent the set of APs collected by equipment d;  and  represent the union and intersection of APs detected by all device types , respectively; and  denotes the set of AP being not detected by device d. Let  represent the total number of APs from all equipment. Each device’s specific fingerprint  should have  RSS values. However, in actual situations, the fact that not every device can detect the RSS value of all APs may cause some  being lost.</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>12911</offset><text>The missing values are calibrated as below. Let ,  represent the mean RSS value of the jth AP detected by all devices. A calibration factor  can be defined for each device d as in Equation (1): </text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>13106</offset><text>The fingerprint calibration process between equipment is performed for each AP j in set . Let  denote the device set with corresponding  missed, which lies in the complement . The value of  (calibration value) of all  can be obtained according to Equation (2):</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>13367</offset><text>Therefore, it is always possible to calculate a unique solution  to fill the missing value  for each device .</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>13477</offset><text>After the missing RSS values are populated, an  RSS matrix  can be constructed for each grid with the element  representing the original/calibrated RSS value from the jth AP of device d. Finally, a column-by-column averaging calculation is performed to obtain an independent device grid fingerprint , where .</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>13786</offset><text>Generally speaking, the proposed method is used to calibrate the data cube of each grid once to obtain the device-independent grid fingerprint, so as to solve the problem of equipment diversity. However, with the increase of crowdsourcing users, the RSS data collected by users will be more comprehensive, and the data cube of each grid will be updated. Meanwhile, multiple recalibration processes will be performed to achieve the constructed indoor radio map update process.</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">title_2</infon><offset>14262</offset><text>3.3. PDR Estimated Position Adjustment (PEPA)</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>14308</offset><text>The general crowdsourcing sample collection process uses volunteers to collect samples at the center of each grid. Some samples, however, may not be acquired at the specified reference point, making the annotations inaccurate, which may cause wrong constructions of the training fingerprint and the radio map.</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>14618</offset><text>To solve this issue, the PDR estimated position adjustment algorithm based on selective particle filtering is adopted to adjust the estimated position of crowdsourced samples, which is mainly used to calibrate PDR-based user position by performing progressive selective particle filtering and using the estimated position based on fingerprint. The step lengths, steps, and orientations of pedestrians are measured and counted to calculate their walking trajectories and current positions.</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>15107</offset><text>Let  and  denote the current and last step locations of the pedestrian, respectively. The estimated pedestrian step size and orientation are represented as  and . The pedestrian position estimated by PDR can be calculated by Equation (3):</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>15346</offset><text>According to the defined grid fingerprint structure, a new weighted signal distance calculation method is proposed. Let  and  denote the offline grid fingerprint and the online test fingerprint.  and  represent the set of detectable APs of fingerprints  and , respectively. The AP intersection of the two fingerprints is . The weighted signal distance between  and  can be obtained by Equation (4): </text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>15746</offset><text>The signal distance between each grid fingerprint and the online test fingerprint collected by the pedestrian during the mth step can be calculated by Equation (4). Furthermore, the geometric center of the grid centers with the minimum signal distance is used as the position  identified by the RSS fingerprint. It is worth noting that, when the pedestrian’s step size conforms to the actual situation, the adjacent grids at the last step position are used to calculate the signal distance. In general, not every  is suitable for position adjustment due to the poorly developed radio maps. Therefore, the following selection criterion is utilized by the proposed scheme to determine whether the RSS fingerprint estimation is valid. Let  and  represent the Euclidean metric and orientation between pedestrian position  and the current RSS fingerprint estimation , respectively. If  and  are satisfied, this fingerprint estimation  is selected.</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>16691</offset><text>Next, we generate Z particles  representing the PDR-based estimated step position, which can be calculated by Equation (5): where  represents the zth particle near the position of the last step and  stands for the zero-mean Gaussian noise with variance  in each process. The Z particles’ initialization process takes place at the starting position of the pedestrian trajectory. First, the weight  representing the importance of each particle is assigned to . After calculating the RSS fingerprint estimation , the weight  is updated by Equation (6): where  is the variance of the noise, and  is the Euclidean metric between the particle position  and the RSS fingerprint estimation . It can be seen from Equation (6) that the smaller the Euclidean metric  is, the greater the weight assigned to the particle will be. After updating weight , the weight of all new particles is normalized. Particle resampling is carried out according to the new normalized weight, which ensures that the number of particles is kept unchanged, the high-weight particles are copied while the low-weight particles are discarded. In this way, the estimated PDR position can be corrected by using the RSS-fingerprinting estimation through selective particle filtering, as shown in Figure 4.</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>17961</offset><text>Meanwhile, it is worth noting that the geometric center  of the particle cannot be used as the current step position directly, and the following checks are required to determine whether the center is available. Let  and  represent the Euclidean metric and orientation between the last step position  and the particle’s geometric center , respectively. Moreover,  is the step length estimated by PDR. The current step position is the particle’s geometric center , if  is satisfied. Otherwise, the current step position is obtained by Equation (7): </text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>18513</offset><text>In conclusion, the adjusted position coordinates of users participating in crowdsourcing will be stored in the fingerprint database along with the corresponding RSS values to build the offline radio map.</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">title_2</infon><offset>18717</offset><text>3.4. Fingerprint Amendment (FA)</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>18749</offset><text>The step RSS samples of walking trajectories will be used to update the radio map by the proposed scheme after constructing the offline radio map with the specific update processing as follows. When a new RSS sample is included, the candidate grid assigned to it is found and its credibility coefficient is calculated. Then, the fingerprint of each grid is modified and the reliability coefficient is calculated.</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>19162</offset><text>Let  represent the RSS sample collected by the users participating in crowdsourcing in mth step. The current location of the pedestrian is  (denoted as ), while the center location of the gth grid is set to  (denoted as ). The Euclidean distance between the two can be calculated by Equation (8): </text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>19460</offset><text>The target grid should be the grid with the minimum Euclidean distance from the pedestrian’s current position , which can be obtained by Equation (9):</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>19613</offset><text>Therefore, the target grid  and its neighboring grids are used as candidate grids allocated for the sample .</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>19722</offset><text>The credibility coefficient  can be obtained by calculating the weighted distance between the two spaces when the gth grid is assigned to sample . For each candidate grid, we first compute  and  to represent their normalized distances in the signal space and physical space, respectively, which can be calculated by Equation (10), where  and  denote the RSS fingerprint of the gth grid and sample , respectively, and then the credibility coefficient  can be obtained according to Equation (11):   It can be observed from Equation (11) that the distance difference between sample and grid is inversely proportional to the credibility value .</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>20363</offset><text>Finally, a new RSS sample is used to modify the fingerprint structure  of each grid, and its reliability coefficient  will be calculated. For each grid, the average RSS value  of each detectable AP is first updated according to the Gaussian kernel density estimation. For the jth detectable AP, let  and  represent the RSS value of the ith sample and its credibility coefficient, respectively. Furthermore, for a grid, a -mean Gaussian kernel density curve with kernel width  is generated, where c is a constant. Note that the credibility value  is proportional to the density of the curve at . That is, the size of  implies the credibility of the sample in this grid in the actual situation. Therefore, the grid fingerprint value is largely around , which means that the RSS distribution is more concentrated at the sharper curve. We take the average of the gaussian curves of all the samples as the final curve. The x-coordinate and the y-coordinate of the maximum point of the final curve represent  and , respectively, where  is defined as the average RSS value collected by the jth AP, while  is used to calculate its reliability level. Finally, for each detectable AP, its reliability coefficient can be updated by Equation (12):  where ,  denotes the sample size of the jth detectable AP and  represents the samples number of the set of all detectable APs in the grid. Therefore, the radio map can be updated in this way when new RSS samples are included.</text></passage><passage><infon key="section_type">METHODS</infon><infon key="type">title_1</infon><offset>21826</offset><text>4. Experimental and Simulation Results Analysis</text></passage><passage><infon key="section_type">METHODS</infon><infon key="type">title_2</infon><offset>21874</offset><text>4.1. Experiment Setup</text></passage><passage><infon key="section_type">METHODS</infon><infon key="type">paragraph</infon><offset>21896</offset><text>To evaluate the proposed indoor radio map construction scheme, the field measurement was performed on the seventh-floor corridor of the Experimental Building of Electronic Engineering shown in Figure 5.</text></passage><passage><infon key="section_type">METHODS</infon><infon key="type">paragraph</infon><offset>22099</offset><text>Furthermore, the experiments were conducted both in 332.2  Corridor A and 218  Corridor B, where Area B is part of Area A. As shown in Figure 5a, we used clathrate structures to get 923 grids each about  in Area A. In this area, the experiment did not deploy our own APs at all, but utilized the environment’s existing Wi-Fi infrastructure. A student holding a Huawei Mate20 smartphone walked along Routes I–III shown in Figure 5a at a constant speed in Area A. Figure 5b describes the Experimental Area B of 606 grids each about  where four Wi-Fi APs are installed. In Experimental Area B, a student holding a Xiaomi 9Pro smartphone walked along the five routes shown in Figure 5b. Specially, compared to the experimental process in Area A, the walking process only specified the starting point and ending point of the route, so the walking process was free. Moreover, the sampling rate of the radio transceiver and inertial sensor are both set to 20 Hz.</text></passage><passage><infon key="section_type">METHODS</infon><infon key="type">paragraph</infon><offset>23059</offset><text>The following techniques were used to deal with the trajectory tracking process based on PDR. An accelerator based on three axes and a bandpass filter were used for step detection and noise removal, respectively, while the peak detection method was used for step detection. Besides, Weinberg algorithm was applied to calculate the step length. For step orientation estimation, the experiment converted the azimuth range from  to  to simplify the computing process. The experiment compared the proposed RMPAEC scheme with the peer scheme RMPA, which also uses pedestrian trajectories to construct radio maps. Table 1 illustrates the comparison schemes.</text></passage><passage><infon key="section_type">METHODS</infon><infon key="type">title_2</infon><offset>23711</offset><text>4.2. Experimental Results</text></passage><passage><infon key="section_type">METHODS</infon><infon key="type">title_3</infon><offset>23737</offset><text>4.2.1. Performance Analysis of PDR Estimated Position Adjustment</text></passage><passage><infon key="section_type">METHODS</infon><infon key="type">paragraph</infon><offset>23802</offset><text>Firstly, the performance of PDR estimated position adjustment was compared by using Routes I and II in Area A. Ten different crowdsourcing user trajectories were acquired for each route as training trajectories, and the best and worst trajectories were selected on the basis of the trajectory average localization error (ALE).</text></passage><passage><infon key="section_type">METHODS</infon><infon key="type">paragraph</infon><offset>24129</offset><text>Figure 6 and Figure 7 compare the PDR estimated position adjustment and localization performance of Routes I and II, respectively. For Route I, Figure 6a,b show the best No. 9 track with ALE of 0.86 m and the worst No. 5 trajectory with ALE of 2.41 m of the proposed PDR-RMPAEC scheme, respectively. Figure 6c,d are the cumulative distributions of positioning error between different methods corresponding to Figure 6a,b, respectively. It can be seen from the trajectory diagrams in Figure 6a,b that the trajectory generated by the PDR-Only scheme has the largest deviation from the actual walking route, which can be identified as the result of the accumulate error of PDR.</text></passage><passage><infon key="section_type">METHODS</infon><infon key="type">paragraph</infon><offset>24804</offset><text>Figure 6a shows that the trajectory of PDR-RMPA is closer to PDR-Only than PDR-RMPAEC, indicating that the constructed intermediate RMPAEC radio map has better positioning performance than the intermediate RMPA radio map. The best PDR-RMPAEC positioning effect is mainly attributed to the proposed fingerprint correction algorithm in this case, which can be verified in Figure 6c. Comparing PDR-RMPA and FL-RMPA, it is noteworthy that the positioning performance of FL-RMPA is better than PDR-RMPA, which is attributed to the implementation of the proposed fingerprint correction algorithm on the intermediate RMPA radio map. The effectiveness of the proposed fingerprint correction algorithm is verified. On the other hand, comparing PDR-RMPAEC and FL-RMPAEC in Figure 6c, it can be found that the positioning performance of PDR-RMPAEC is better than FL-RMPAEC. In other words, the PDR estimated position adjustment and fingerprint amendment algorithms are performed on the intermediate RMPAEC radio map, and the positioning performance after performing the trajectory adjustment is better. The effectiveness of the proposed PDR estimation position adjustment algorithm based on selective particle filtering is verified.</text></passage><passage><infon key="section_type">METHODS</infon><infon key="type">paragraph</infon><offset>26026</offset><text>Figure 6b shows that the trajectories of PDR-RMPAEC and PDR-RMPA are closer to the ground truth, which should be attributed to the proposed fingerprint amendment algorithm. Moreover, Figure 6d shows that the ALEs of PDR-RMPAEC and PDR-RMPA are relatively low, whether comparing the positioning performances of PDR-RMPAEC and FL-RMPAEC or PDR-RMPA and FL-RMPA, which can prove the effectiveness of the proposed fingerprint amendment algorithm.</text></passage><passage><infon key="section_type">METHODS</infon><infon key="type">paragraph</infon><offset>26469</offset><text>For Route II, as shown in Figure 7, observation results similar to those in Figure 6 can be obtained. In particular, the proposed PDR-RMPAEC scheme can reduce ALE by 1.9 and 4.62 m, respectively, compared to the PDR-Only with the worst positioning effect on the optimal trajectories of Routes I and II. Since the step RSS samples of a trajectory used for radio map construction are indeed distinguished, the effectiveness of fingerprint amendment method can be verified.</text></passage><passage><infon key="section_type">METHODS</infon><infon key="type">title_3</infon><offset>26940</offset><text>4.2.2. Performance Analysis of the Constructed Radio Map</text></passage><passage><infon key="section_type">METHODS</infon><infon key="type">paragraph</infon><offset>26997</offset><text>The positioning performance of the constructed radio map is checked below. For Area A, a radio map was constructed according to the 20 training tracks obtained from Routes I and II, and its positioning performance on Route III trajectory was checked. For Experimental Area B, the radio map was composed of 20 training tracks of four types, while the positioning performance of the testing tracks of three types was examined.</text></passage><passage><infon key="section_type">METHODS</infon><infon key="type">paragraph</infon><offset>27422</offset><text>Figure 8 and Figure 9a plot the ALE for each test trajectory in the experimental environment. Firstly, it can be seen in the figures that the ALEs of PDR-RMPAEC and PDR-RMPA are relatively low, whether comparing the positioning performances of PDR-RMPAEC and FL-RMPAEC or PDR-RMPA and FL-RMPA, which can prove the effectiveness of the proposed PDR estimated position adjustment algorithm. Then, it is worth noting that PDR-RMPAEC can achieve smaller ALE than PDR-RMPA scheme, which can reduce ALE by up to 3.4 m. The results indicate that the localization performance of the radio map constructed by the proposed RMPAEC is better than that of the RMPA scheme, and can further prove the effectiveness of the fingerprint amendment algorithm in the proposed RMPAEC.</text></passage><passage><infon key="section_type">METHODS</infon><infon key="type">paragraph</infon><offset>28185</offset><text>Figure 9b illustrates the localization error cumulative distribution function (CDF) of all test trajectories. It indicates that the proposed PDR-RMPAEC achieves optimal positioning performance in all tracks. Figure 10a,b show the best No. 7 track with ALE of 0.98 m and the worst No. 4 track with ALE of 1.55 m of the proposed PDR-RMPAEC scheme in Route III, respectively. Figure 10c,d are the positioning error CDF corresponding to Figure 10a,b, respectively.</text></passage><passage><infon key="section_type">METHODS</infon><infon key="type">paragraph</infon><offset>28646</offset><text>By comparing the ALE of the proposed PDR-RMPAEC scheme drawn in Figure 9a, the two cases where the ALE with the best localization performance is 0.66 m and the ALE with the worst positioning performance is 2.38 m are selected. The pedestrian path drawing of these two cases are depicted in Figure 11a,b. In comparison with the other two schemes, the adjustment trajectory produced by the proposed scheme is closer to the real pedestrian path, which proves the effectiveness of the proposed fingerprint amendment algorithm. However, the trajectory generated by the PDR-Only scheme has the largest deviation from the actual walking route, which can be known as the result of the accumulate error of PDR. In addition, the proposed PDR-RMPAEC scheme can work well even in the case where the test trajectory of Figure 11b is more complicated. When comparing the CDF of the localization errors between PDR-RMPA and FL-RMPA in Figure 11c,d, it can be observed that the positioning performance of PDR-RMPA is better, that is, the scheme of executing the position adjustment algorithm is better than that using RSS fingerprint recognition alone, which confirms the effectiveness of the proposed position adjustment algorithm.</text></passage><passage><infon key="section_type">CONCL</infon><infon key="type">title_1</infon><offset>29863</offset><text>5. Conclusions</text></passage><passage><infon key="section_type">CONCL</infon><infon key="type">paragraph</infon><offset>29878</offset><text>Aiming at the problems of the diverse terminal equipment and inaccurate location annotation of samples when using crowdsourced samples to construct indoor radio maps, a RMPAEC scheme based on position adjustment and equipment calibration is proposed in this paper. The proposed scheme uses particle filtering to adjust the positions of crowdsourcing users based on PDR estimation, and constructs an RSS data cube. Through an inter-device calibration algorithm, the fingerprints collected by multiple devices are fused into a device-independent grid fingerprint. Then, the coordinates of the calibrated user’s position and the corresponding grid fingerprints are stored in the fingerprint database together to form an offline indoor radio map. Finally, when new RSS samples are included, a fingerprint amendment algorithm is used to update the offline radio map. Simulation results reveal that the proposed solution achieves lower ALE than other peer schemes, thus verifying the effectiveness of RMPAEC in improving PDR estimated position and localization performance. For future work, we plan to consider the influence of factors such as floors on positioning, and study the multi-floor indoor localization technology in three-dimensional space. </text></passage><passage><infon key="section_type">AUTH_CONT</infon><infon key="type">title</infon><offset>31127</offset><text>Author Contributions</text></passage><passage><infon key="section_type">AUTH_CONT</infon><infon key="type">paragraph</infon><offset>31148</offset><text>R.G. and D.Q. conceptualized the idea and designed the experiments. R.G. contributed in writing and draft preparation. M.Z. implemented the algorithm and conducted experiments. X.W. analyzed the experimental results. D.Q. supervised the research. All authors have read and agreed to the published version of the manuscript.</text></passage><passage><infon key="section_type">ACK_FUND</infon><infon key="type">title</infon><offset>31472</offset><text>Funding</text></passage><passage><infon key="section_type">ACK_FUND</infon><infon key="type">paragraph</infon><offset>31480</offset><text>The funding was supported by the National Natural Science Foundation of China (61771186), Postdoctoral Research of Heilongjiang Province (LBH-Q15121) and Undergraduate University Project of Young Scientist Creative Talent of Heilongjiang Province (UNPYSCT-2017125).</text></passage><passage><infon key="section_type">COMP_INT</infon><infon key="type">title</infon><offset>31746</offset><text>Conflicts of Interest</text></passage><passage><infon key="section_type">COMP_INT</infon><infon key="type">paragraph</infon><offset>31768</offset><text>The authors declare no conflict of interest.</text></passage><passage><infon key="section_type">REF</infon><infon key="type">title</infon><offset>31813</offset><text>References</text></passage><passage><infon key="fpage">405</infon><infon key="lpage">419</infon><infon key="name_0">surname:Kushki;given-names:A.</infon><infon key="name_1">surname:Plataniotis;given-names:K.N.</infon><infon key="name_2">surname:Venetsanopoulos;given-names:A.N.</infon><infon key="pub-id_doi">10.1109/TMC.2009.141</infon><infon key="section_type">REF</infon><infon key="source">IEEE Trans. Mob. Comput.</infon><infon key="type">ref</infon><infon key="volume">9</infon><infon key="year">2010</infon><offset>31824</offset><text>Intelligent dynamic radio tracking in indoor wireless local area networks</text></passage><passage><infon key="fpage">491</infon><infon key="lpage">504</infon><infon key="name_0">surname:Yoo;given-names:J.W.</infon><infon key="name_1">surname:Park;given-names:K.H.</infon><infon key="pub-id_doi">10.1109/TMC.2010.161</infon><infon key="section_type">REF</infon><infon key="source">IEEE Trans. Mob. Comput.</infon><infon key="type">ref</infon><infon key="volume">10</infon><infon key="year">2011</infon><offset>31898</offset><text>A cooperative clustering protocol for energy saving of mobile devices with WLAN and Bluetooth interfaces</text></passage><passage><infon key="fpage">1</infon><infon key="lpage">12</infon><infon key="name_0">surname:Basiri;given-names:A.</infon><infon key="name_1">surname:Lohan;given-names:E.S.</infon><infon key="name_2">surname:Moore;given-names:T.</infon><infon key="pub-id_doi">10.1016/j.cosrev.2017.03.002</infon><infon key="section_type">REF</infon><infon key="source">Comput. Sci. Rev.</infon><infon key="type">ref</infon><infon key="volume">24</infon><infon key="year">2017</infon><offset>32003</offset><text>Indoor location based services challenges, requirements and usability of current solutions</text></passage><passage><infon key="fpage">677</infon><infon key="lpage">680</infon><infon key="name_0">surname:Chen;given-names:Q.</infon><infon key="name_1">surname:Wang;given-names:B.</infon><infon key="pub-id_doi">10.1109/LWC.2015.2482971</infon><infon key="section_type">REF</infon><infon key="source">IEEE Wirel. Commun. Lett.</infon><infon key="type">ref</infon><infon key="volume">4</infon><infon key="year">2015</infon><offset>32094</offset><text>FinCCM: Fingerprint Crowdsourcing, Clustering and Matching for Indoor Subarea Localization</text></passage><passage><infon key="fpage">2736</infon><infon key="lpage">2746</infon><infon key="name_0">surname:Xu;given-names:W.</infon><infon key="name_1">surname:Omar;given-names:H.A.</infon><infon key="name_2">surname:Zhuang;given-names:W.</infon><infon key="pub-id_doi">10.1109/ACCESS.2017.2669178</infon><infon key="section_type">REF</infon><infon key="source">IEEE Access</infon><infon key="type">ref</infon><infon key="volume">5</infon><infon key="year">2017</infon><offset>32185</offset><text>Delay Analysis of In-Vehicle Internet Access Via On-Road WiFi Access Points</text></passage><passage><infon key="fpage">489</infon><infon key="lpage">516</infon><infon key="name_0">surname:Eckhoff;given-names:D.</infon><infon key="name_1">surname:Wagner;given-names:I.</infon><infon key="pub-id_doi">10.1109/COMST.2017.2748998</infon><infon key="section_type">REF</infon><infon key="source">IEEE Commun. Surv. Tutor.</infon><infon key="type">ref</infon><infon key="volume">20</infon><infon key="year">2018</infon><offset>32261</offset><text>Privacy in the Smart City-Applications, Technologies, Challenges and Solutions</text></passage><passage><infon key="name_0">surname:Ye;given-names:J.B.</infon><infon key="name_1">surname:Li;given-names:J.</infon><infon key="name_2">surname:Newman;given-names:M.G.</infon><infon key="pub-id_doi">10.1109/TAFFC.2017.2678472</infon><infon key="section_type">REF</infon><infon key="source">IEEE Trans. Affect. Comput.</infon><infon key="type">ref</infon><infon key="volume">10</infon><infon key="year">2019</infon><offset>32340</offset><text>Probabilistic Multigraph Modeling for Improving the Quality of Crowdsourced Affective Data</text></passage><passage><infon key="fpage">2408</infon><infon key="lpage">2434</infon><infon key="name_0">surname:Lashkari;given-names:B.</infon><infon key="name_1">surname:Rezazadeh;given-names:J.</infon><infon key="name_2">surname:Farahbakhsh;given-names:R.</infon><infon key="pub-id_doi">10.1109/JSEN.2018.2880180</infon><infon key="section_type">REF</infon><infon key="source">IEEE Sens. J.</infon><infon key="type">ref</infon><infon key="volume">19</infon><infon key="year">2019</infon><offset>32431</offset><text>Crowdsourcing and Sensing for Indoor Localization in IoT: A Review</text></passage><passage><infon key="name_0">surname:Hu;given-names:M.</infon><infon key="name_1">surname:Zhong;given-names:D.Z.</infon><infon key="name_2">surname:Niu;given-names:Y.</infon><infon key="pub-id_doi">10.1109/TVT.2017.2718043</infon><infon key="section_type">REF</infon><infon key="source">IEEE Trans. Veh. Technol.</infon><infon key="type">ref</infon><infon key="volume">66</infon><infon key="year">2017</infon><offset>32498</offset><text>Duration-variable Participant Recruitment for Urban Crowdsourcing with Indeterministic Trajectories</text></passage><passage><infon key="fpage">534</infon><infon key="lpage">542</infon><infon key="name_0">surname:Chen;given-names:Y.F.</infon><infon key="name_1">surname:Shu;given-names:L.</infon><infon key="name_2">surname:Ortiz;given-names:A.M.</infon><infon key="pub-id_doi">10.1007/s11036-014-0517-8</infon><infon key="section_type">REF</infon><infon key="source">Mob. Netw. Appl.</infon><infon key="type">ref</infon><infon key="volume">19</infon><infon key="year">2014</infon><offset>32598</offset><text>Locating in Crowdsourcing-Based DataSpace: Wireless Indoor Localization without Special Devices</text></passage><passage><infon key="fpage">2296</infon><infon key="lpage">2305</infon><infon key="name_0">surname:Pan;given-names:M.S.</infon><infon key="name_1">surname:Lin;given-names:H.W.</infon><infon key="pub-id_doi">10.1109/JSEN.2014.2377193</infon><infon key="section_type">REF</infon><infon key="source">IEEE Sens. J.</infon><infon key="type">ref</infon><infon key="volume">15</infon><infon key="year">2015</infon><offset>32694</offset><text>A Step Counting Algorithm for Smartphone Users: Design and Implementation</text></passage><passage><infon key="fpage">2906</infon><infon key="lpage">2916</infon><infon key="name_0">surname:Kang;given-names:W.</infon><infon key="name_1">surname:Han;given-names:Y.</infon><infon key="pub-id_doi">10.1109/JSEN.2014.2382568</infon><infon key="section_type">REF</infon><infon key="source">IEEE Sens. J.</infon><infon key="type">ref</infon><infon key="volume">15</infon><infon key="year">2015</infon><offset>32768</offset><text>SmartPDR: Smartphone-Based Pedestrian Dead Reckoning for Indoor Localization</text></passage><passage><infon key="fpage">1281</infon><infon key="lpage">1293</infon><infon key="name_0">surname:Hsu;given-names:L.T.</infon><infon key="name_1">surname:Gu;given-names:Y.</infon><infon key="name_2">surname:Huang;given-names:Y.</infon><infon key="pub-id_doi">10.1109/JSEN.2015.2496621</infon><infon key="section_type">REF</infon><infon key="source">IEEE Sens. J.</infon><infon key="type">ref</infon><infon key="volume">16</infon><infon key="year">2016</infon><offset>32845</offset><text>Urban Pedestrian Navigation Using Smartphone-Based Dead Reckoning and 3-D Map-Aided GNSS</text></passage><passage><infon key="fpage">6116</infon><infon key="lpage">6129</infon><infon key="name_0">surname:Zhang;given-names:M.</infon><infon key="name_1">surname:Wen;given-names:Y.</infon><infon key="name_2">surname:Chen;given-names:J.</infon><infon key="pub-id_doi">10.1109/ACCESS.2018.2791579</infon><infon key="section_type">REF</infon><infon key="source">IEEE Access</infon><infon key="type">ref</infon><infon key="volume">6</infon><infon key="year">2018</infon><offset>32934</offset><text>Pedestrian Dead-Reckoning Indoor Localization Based on OS-ELM</text></passage><passage><infon key="fpage">221</infon><infon key="lpage">229</infon><infon key="name_0">surname:Fourati;given-names:H.</infon><infon key="pub-id_doi">10.1109/TIM.2014.2335912</infon><infon key="section_type">REF</infon><infon key="source">IEEE Trans. Instrum. Meas.</infon><infon key="type">ref</infon><infon key="volume">64</infon><infon key="year">2015</infon><offset>32996</offset><text>Heterogeneous Data Fusion Algorithm for Pedestrian Navigation via Foot-Mounted Inertial Measurement Unit and Complementary Filter</text></passage><passage><infon key="fpage">2682</infon><infon key="lpage">2695</infon><infon key="name_0">surname:Perttula;given-names:A.</infon><infon key="name_1">surname:Leppakoski;given-names:H.</infon><infon key="name_2">surname:Kirkko-Jaakkola;given-names:M.</infon><infon key="pub-id_doi">10.1109/TIM.2014.2313951</infon><infon key="section_type">REF</infon><infon key="source">IEEE Trans. Instrum. Meas.</infon><infon key="type">ref</infon><infon key="volume">63</infon><infon key="year">2014</infon><offset>33126</offset><text>Distributed Indoor Positioning System with Inertial Measurements and Map Matching</text></passage><passage><infon key="name_0">surname:Tian;given-names:X.</infon><infon key="name_1">surname:Li;given-names:W.</infon><infon key="name_2">surname:Yang;given-names:Y.</infon><infon key="name_3">surname:Zhang;given-names:Z.</infon><infon key="name_4">surname:Wang;given-names:X.</infon><infon key="pub-id_doi">10.1109/TMC.2017.2715820</infon><infon key="section_type">REF</infon><infon key="source">IEEE Trans. Mob. Comput.</infon><infon key="type">ref</infon><infon key="volume">17</infon><infon key="year">2018</infon><offset>33208</offset><text>Optimization of fingerprints reporting strategy for wlan indoor localization</text></passage><passage><infon key="fpage">65</infon><infon key="lpage">83</infon><infon key="name_0">surname:Wu;given-names:Y.</infon><infon key="name_1">surname:Zhu;given-names:H.B.</infon><infon key="name_2">surname:Du;given-names:Q.X.</infon><infon key="pub-id_doi">10.1007/s11633-018-1150-y</infon><infon key="section_type">REF</infon><infon key="source">Int. J. Autom. Comput.</infon><infon key="type">ref</infon><infon key="volume">16</infon><infon key="year">2019</infon><offset>33285</offset><text>A Survey of the Research Status of Pedestrian Dead Reckoning Systems Based on Inertial Sensors</text></passage><passage><infon key="fpage">64</infon><infon key="lpage">80</infon><infon key="name_0">surname:Zhou;given-names:M.</infon><infon key="name_1">surname:Xu;given-names:Y.B.</infon><infon key="name_2">surname:Ma;given-names:L.</infon><infon key="section_type">REF</infon><infon key="source">China Commun.</infon><infon key="type">ref</infon><infon key="volume">7</infon><infon key="year">2010</infon><offset>33380</offset><text>Radio-map establishment based on fuzzy clustering for WLAN hybrid KNN/ANN indoor positioning</text></passage><passage><infon key="fpage">1669</infon><infon key="lpage">1672</infon><infon key="name_0">surname:Karlsson;given-names:F.</infon><infon key="name_1">surname:Karlsson;given-names:M.</infon><infon key="name_2">surname:Bo;given-names:B.</infon><infon key="section_type">REF</infon><infon key="source">Proceedings of the 2015 European Control Conference (ECC)</infon><infon key="type">ref</infon><offset>33473</offset><text>Sensor fused indoor positioning using dual band WiFi signal measurements</text></passage><passage><infon key="name_0">surname:Tarrío;given-names:P.</infon><infon key="name_1">surname:Besada;given-names:J.A.</infon><infon key="name_2">surname:Casar;given-names:J.R.</infon><infon key="section_type">REF</infon><infon key="source">Proceedings of the 16th International Conference on Information Fusion</infon><infon key="type">ref</infon><offset>33546</offset><text>Fusion of RSS and inertial measurements for calibration-free indoor pedestrian tracking</text></passage><passage><infon key="fpage">715</infon><infon key="lpage">732</infon><infon key="name_0">surname:Chen;given-names:Z.</infon><infon key="name_1">surname:Zou;given-names:H.</infon><infon key="name_2">surname:Jiang;given-names:H.</infon><infon key="pub-id_doi">10.3390/s150100715</infon><infon key="pub-id_pmid">25569750</infon><infon key="section_type">REF</infon><infon key="source">Sensors</infon><infon key="type">ref</infon><infon key="volume">15</infon><infon key="year">2015</infon><offset>33634</offset><text>Fusion of Wi-Fi, smartphone sensors and landmarks using the Kalman filter for indoor localization</text></passage><passage><infon key="fpage">169</infon><infon key="lpage">172</infon><infon key="name_0">surname:Li;given-names:Y.</infon><infon key="name_1">surname:Zhuang;given-names:Y.</infon><infon key="name_2">surname:Lan;given-names:H.</infon><infon key="pub-id_doi">10.1109/LCOMM.2015.2496940</infon><infon key="section_type">REF</infon><infon key="source">IEEE Commun. Lett.</infon><infon key="type">ref</infon><infon key="volume">20</infon><infon key="year">2016</infon><offset>33732</offset><text>A Hybrid Wi Fi/Magnetic Matching/PDR Approach for Indoor Navigation with Smartphone Sensors</text></passage><passage><infon key="elocation-id">8</infon><infon key="name_0">surname:Li;given-names:X.</infon><infon key="name_1">surname:Wang;given-names:J.</infon><infon key="name_2">surname:Liu;given-names:C.</infon><infon key="pub-id_doi">10.3390/ijgi5020008</infon><infon key="section_type">REF</infon><infon key="source">ISPRS Int. J. Geo-Inf.</infon><infon key="type">ref</infon><infon key="volume">5</infon><infon key="year">2016</infon><offset>33824</offset><text>Integrated Wi-Fi/PDR/Smartphone Using an Adaptive System Noise Extended Kalman Filter Algorithm for Indoor Localization</text></passage><passage><infon key="fpage">627</infon><infon key="lpage">639</infon><infon key="name_0">surname:Min;given-names:S.L.</infon><infon key="name_1">surname:Ju;given-names:H.</infon><infon key="name_2">surname:Chan;given-names:G.P.</infon><infon key="section_type">REF</infon><infon key="source">Int. J. Control Autom. Syst.</infon><infon key="type">ref</infon><infon key="volume">15</infon><infon key="year">2017</infon><offset>33944</offset><text>Map assisted PDR/WiFi fusion for indoor positioning using smartphone</text></passage><passage><infon key="name_0">surname:Zan;given-names:L.</infon><infon key="name_1">surname:Zhao;given-names:Z.</infon><infon key="name_2">surname:Braun;given-names:T.</infon><infon key="section_type">REF</infon><infon key="source">Proceedings of the 19th ACM International Conference on Modeling Analysis and Simulation of Wireless and Mobile Systems</infon><infon key="type">ref</infon><offset>34013</offset><text>A Real-time Indoor Tracking System in Smartphones</text></passage><passage><infon key="elocation-id">224</infon><infon key="name_0">surname:Li;given-names:Z.</infon><infon key="name_1">surname:Liu;given-names:C.</infon><infon key="name_2">surname:Gao;given-names:J.</infon><infon key="pub-id_doi">10.3390/ijgi5120224</infon><infon key="section_type">REF</infon><infon key="source">ISPRS Int. J. Geo-Inf.</infon><infon key="type">ref</infon><infon key="volume">5</infon><infon key="year">2016</infon><offset>34063</offset><text>An Improved WiFi/PDR Integrated System Using an Adaptive and Robust Filter for Indoor Localization</text></passage><passage><infon key="fpage">293</infon><infon key="lpage">304</infon><infon key="name_0">surname:Rai;given-names:A.</infon><infon key="name_1">surname:Chintalapudi;given-names:K.K.</infon><infon key="name_2">surname:Padmanabhan;given-names:V.N.</infon><infon key="name_3">surname:Sen;given-names:R.</infon><infon key="section_type">REF</infon><infon key="source">Proceedings of the 18th Annual International Conference on Mobile Computing and Networking</infon><infon key="type">ref</infon><offset>34162</offset><text>Zee: Zero-effort crowdsourcing for indoor localization</text></passage><passage><infon key="fpage">444</infon><infon key="lpage">457</infon><infon key="name_0">surname:Wu;given-names:C.</infon><infon key="name_1">surname:Yang;given-names:Z.</infon><infon key="name_2">surname:Liu;given-names:Y.</infon><infon key="pub-id_doi">10.1109/TMC.2014.2320254</infon><infon key="section_type">REF</infon><infon key="source">IEEE Trans. Mob. Comput.</infon><infon key="type">ref</infon><infon key="volume">14</infon><infon key="year">2015</infon><offset>34217</offset><text>Smartphones based crowdsourcing for indoor localization</text></passage><passage><infon key="name_0">surname:Yang;given-names:S.</infon><infon key="name_1">surname:Dessai;given-names:M.V.</infon><infon key="section_type">REF</infon><infon key="source">Proceedings of the 2013 Proceedings IEEE INFOCOM</infon><infon key="type">ref</infon><offset>34273</offset><text>FreeLoc: Calibration-free crowdsourced indoor localization</text></passage><passage><infon key="elocation-id">864</infon><infon key="name_0">surname:Zhou;given-names:B.</infon><infon key="name_1">surname:Li;given-names:Q.</infon><infon key="name_2">surname:Mao;given-names:Q.</infon><infon key="name_3">surname:Tu;given-names:W.</infon><infon key="pub-id_doi">10.3390/s17040864</infon><infon key="section_type">REF</infon><infon key="source">Sensors</infon><infon key="type">ref</infon><infon key="volume">17</infon><infon key="year">2017</infon><offset>34332</offset><text>A robust crowdsourcing-based indoor localization system</text></passage><passage><infon key="fpage">464</infon><infon key="lpage">477</infon><infon key="name_0">surname:Ho;given-names:K.C.</infon><infon key="name_1">surname:Sun;given-names:M.</infon><infon key="pub-id_doi">10.1109/TSP.2007.906728</infon><infon key="section_type">REF</infon><infon key="source">IEEE Trans. Signal Process.</infon><infon key="type">ref</infon><infon key="volume">56</infon><infon key="year">2008</infon><offset>34388</offset><text>Passive Source Localization Using Time Differences of Arrival and Gain Ratios of Arrival</text></passage><passage><infon key="fpage">1089</infon><infon key="lpage">1098</infon><infon key="name_0">surname:Pak;given-names:J.M.</infon><infon key="name_1">surname:Ahn;given-names:C.K.</infon><infon key="name_2">surname:Shmaliy;given-names:Y.S.</infon><infon key="pub-id_doi">10.1109/TII.2015.2462771</infon><infon key="section_type">REF</infon><infon key="source">IEEE Trans. Ind. Inform.</infon><infon key="type">ref</infon><infon key="volume">11</infon><infon key="year">2015</infon><offset>34477</offset><text>Improving Reliability of Particle Filter-Based Localization in Wireless Sensor Networks via Hybrid Particle/FIR Filtering</text></passage><passage><infon key="fpage">447</infon><infon key="lpage">459</infon><infon key="name_0">surname:Bi;given-names:H.</infon><infon key="name_1">surname:Ma;given-names:J.</infon><infon key="name_2">surname:Wang;given-names:F.</infon><infon key="pub-id_doi">10.1109/JSTARS.2014.2322096</infon><infon key="section_type">REF</infon><infon key="source">IEEE J. Sel. Top. Appl. Earth Obs. Remote Sens.</infon><infon key="type">ref</infon><infon key="volume">8</infon><infon key="year">2015</infon><offset>34599</offset><text>An Improved Particle Filter Algorithm Based on Ensemble Kalman Filter and Markov Chain Monte Carlo Method</text></passage><passage><infon key="fpage">20412</infon><infon key="lpage">20429</infon><infon key="name_0">surname:Luo;given-names:J.</infon><infon key="name_1">surname:Qin;given-names:S.</infon><infon key="pub-id_doi">10.1109/ACCESS.2018.2819419</infon><infon key="section_type">REF</infon><infon key="source">IEEE Access</infon><infon key="type">ref</infon><infon key="volume">6</infon><infon key="year">2018</infon><offset>34705</offset><text>A Fast Algorithm of Simultaneous Localization and Mapping for Mobile Robot Based on Ball Particle Filter</text></passage><passage><infon key="fpage">7305</infon><infon key="lpage">7318</infon><infon key="name_0">surname:Li;given-names:Z.</infon><infon key="name_1">surname:Braun;given-names:T.</infon><infon key="pub-id_doi">10.1109/TWC.2017.2746598</infon><infon key="section_type">REF</infon><infon key="source">IEEE Trans. Wirel. Commun.</infon><infon key="type">ref</infon><infon key="volume">16</infon><infon key="year">2017</infon><offset>34810</offset><text>Passively Track WiFi Users with an Enhanced Particle Filter using Power-based Ranging</text></passage><passage><infon key="fpage">24595</infon><infon key="lpage">24614</infon><infon key="name_0">surname:Chen;given-names:G.L.</infon><infon key="name_1">surname:Meng;given-names:X.L.</infon><infon key="name_2">surname:Wang;given-names:Y.J.</infon><infon key="pub-id_doi">10.3390/s150924595</infon><infon key="pub-id_pmid">26404314</infon><infon key="section_type">REF</infon><infon key="source">Sensors</infon><infon key="type">ref</infon><infon key="volume">15</infon><infon key="year">2015</infon><offset>34896</offset><text>Integrated WiFi/PDR/Smartphone Using an Unscented Kalman Filter Algorithm for 3D Indoor Localization</text></passage><passage><infon key="fpage">5414</infon><infon key="lpage">5420</infon><infon key="name_0">surname:Fu;given-names:X.</infon><infon key="name_1">surname:Jia;given-names:Y.</infon><infon key="pub-id_doi">10.1109/TSP.2010.2053031</infon><infon key="section_type">REF</infon><infon key="source">IEEE Trans. Signal Process.</infon><infon key="type">ref</infon><infon key="volume">58</infon><infon key="year">2010</infon><offset>34997</offset><text>An Improvement on Resampling Algorithm of Particle Filters</text></passage><passage><infon key="fpage">2658</infon><infon key="lpage">2665</infon><infon key="name_0">surname:Chen;given-names:Y.</infon><infon key="name_1">surname:Yang;given-names:K.</infon><infon key="name_2">surname:Liu;given-names:H.L.</infon><infon key="pub-id_doi">10.1109/JSEN.2016.2516038</infon><infon key="section_type">REF</infon><infon key="source">IEEE Sens. J.</infon><infon key="type">ref</infon><infon key="volume">16</infon><infon key="year">2016</infon><offset>35056</offset><text>Self-Adaptive Multi-Peak Detection Algorithm for FBG Sensing Signal</text></passage><passage><infon key="fpage">1</infon><infon key="lpage">6</infon><infon key="name_0">surname:Weinberg;given-names:H.</infon><infon key="section_type">REF</infon><infon key="source">Application Notes American Devices</infon><infon key="type">ref</infon><infon key="volume">Volume 2</infon><infon key="year">2002</infon><offset>35124</offset><text>Using the ADXL202 in pedometer and personal navigation applications</text></passage><passage><infon key="file">sensors-20-02818-g001.jpg</infon><infon key="id">sensors-20-02818-f001</infon><infon key="section_type">FIG</infon><infon key="type">fig_caption</infon><offset>35192</offset><text>System architecture of the proposed RMPAEC.</text></passage><passage><infon key="file">sensors-20-02818-g002.jpg</infon><infon key="id">sensors-20-02818-f002</infon><infon key="section_type">FIG</infon><infon key="type">fig_caption</infon><offset>35236</offset><text>Process flow of the proposed system.</text></passage><passage><infon key="file">sensors-20-02818-g003.jpg</infon><infon key="id">sensors-20-02818-f003</infon><infon key="section_type">FIG</infon><infon key="type">fig_caption</infon><offset>35273</offset><text>RSS values measured by different equipment at the same position.</text></passage><passage><infon key="file">sensors-20-02818-g004.jpg</infon><infon key="id">sensors-20-02818-f004</infon><infon key="section_type">FIG</infon><infon key="type">fig_caption</infon><offset>35338</offset><text>The process of particle filtering. First, some particles (the dots) are formed around the PDR-based estimated position (the square) according to Equation (5). Second, the particles are resampled according to the weights computed by Equation (6) after calculating the position (the triangle) of the RSS fingerprint estimation.  represents the zth sampled particle and  denotes the particle obtained after the resampling of the zth particle. Finally, the geometric center of the particle (the star) can be obtained.</text></passage><passage><infon key="file">sensors-20-02818-g005.jpg</infon><infon key="id">sensors-20-02818-f005</infon><infon key="section_type">FIG</infon><infon key="type">fig_caption</infon><offset>35852</offset><text>Graphical representation of the corridor. (a) Area A with three routes: training paths are represented as Routes I and II and testing paths are represented as Route III. Ten different crowdsourcing user trajectories qwew acquired for each route. (b) Area B with five routes: Training paths are represented as four types of routes with a total of 20 trajectories, including five trajectories of Route 1 (from Room 717 to Room 703), five trajectories of Route 1 (from Room 703 to Room 717), five trajectories of Route 2 (from Room 717 to Room 711), and five trajectories of Route 3 (from Room 715 to Room 704). The eight testing trajectories consist of two trajectories of Route 2 (from Room 711 to Room 717), three trajectories of Route 4 (from Room 701 to Room 715), and three trajectories of Route 5 (from Room 702 to Room 717).</text></passage><passage><infon key="file">sensors-20-02818-g006.jpg</infon><infon key="id">sensors-20-02818-f006</infon><infon key="section_type">FIG</infon><infon key="type">fig_caption</infon><offset>36682</offset><text>Localization results in Route I: (a) the best No. 9 PDR-RMPAEC trajectory with ALE = 0.86 m; (b) the worst No. 5 PDR-RMPAEC trajectory with ALE = 2.41 m; (c) CDF of localization error of the No. 9 trajectory; and (d) CDF of localization error of the No. 5 trajectory.</text></passage><passage><infon key="file">sensors-20-02818-g007.jpg</infon><infon key="id">sensors-20-02818-f007</infon><infon key="section_type">FIG</infon><infon key="type">fig_caption</infon><offset>36950</offset><text>Localization results in Route II: (a) the best No. 8 PDR-RMPAEC trajectory with ALE = 0.87 m; (b) the worst No. 3 PDR-RMPAEC trajectory with ALE = 3.12 m; (c) CDF of localization error of the No. 8 trajectory; and (d) CDF of localization error of the No. 3 trajectory.</text></passage><passage><infon key="file">sensors-20-02818-g008.jpg</infon><infon key="id">sensors-20-02818-f008</infon><infon key="section_type">FIG</infon><infon key="type">fig_caption</infon><offset>37219</offset><text>ALE comparison between different methods of trajectories on Route III in Area A.</text></passage><passage><infon key="file">sensors-20-02818-g009.jpg</infon><infon key="id">sensors-20-02818-f009</infon><infon key="section_type">FIG</infon><infon key="type">fig_caption</infon><offset>37300</offset><text>(a) ALE comparison between different methods of tracks on three routes in Experimental Area B; and (b) CDF of localization error of all the testing tracks in Experimental Area B.</text></passage><passage><infon key="file">sensors-20-02818-g010.jpg</infon><infon key="id">sensors-20-02818-f010</infon><infon key="section_type">FIG</infon><infon key="type">fig_caption</infon><offset>37479</offset><text>Localization results in Route III: (a) the best No. 7 PDR-RMPAEC trajectory with ALE = 0.98 m; (b) the worst No. 4 PDR-RMPAEC trajectory with ALE = 1.55 m; (c) CDF of localization error of the No. 7 trajectory; and (d) CDF of localization error of the No. 4 trajectory.</text></passage><passage><infon key="file">sensors-20-02818-g011.jpg</infon><infon key="id">sensors-20-02818-f011</infon><infon key="section_type">FIG</infon><infon key="type">fig_caption</infon><offset>37749</offset><text>Localization results of testing paths in Experimental Area B: (a) The best No. 1 PDR-RMPAEC trajectory with ALE = 0.66 m; (b) the worst No. 6 PDR-RMPAEC trajectory with ALE = 2.38 m; and (c) CDF of localization error of the No. 1 trajectory; (d) CDF of localization error of the No. 6 trajectory.</text></passage><passage><infon key="file">sensors-20-02818-t001.xml</infon><infon key="id">sensors-20-02818-t001</infon><infon key="section_type">TABLE</infon><infon key="type">table_caption</infon><offset>38046</offset><text>Key comparison schemes.</text></passage><passage><infon key="file">sensors-20-02818-t001.xml</infon><infon key="id">sensors-20-02818-t001</infon><infon key="section_type">TABLE</infon><infon key="type">table</infon><infon key="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;table xmlns:mml=&quot;http://www.w3.org/1998/Math/MathML&quot; frame=&quot;hsides&quot; rules=&quot;groups&quot;&gt;&lt;thead&gt;&lt;tr&gt;&lt;th align=&quot;left&quot; valign=&quot;middle&quot; style=&quot;border-bottom:solid thin;border-top:solid thin&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot;&gt;Scheme&lt;/th&gt;&lt;th align=&quot;left&quot; valign=&quot;middle&quot; style=&quot;border-bottom:solid thin;border-top:solid thin&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot;&gt;Definition&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td align=&quot;left&quot; valign=&quot;middle&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot;&gt;RMPAEC&lt;/td&gt;&lt;td align=&quot;left&quot; valign=&quot;middle&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot;&gt;The proposed scheme that uses the position adjustment and equipment calibration&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td align=&quot;left&quot; valign=&quot;middle&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot;&gt;RMPA&lt;/td&gt;&lt;td align=&quot;left&quot; valign=&quot;middle&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot;&gt;The process that only the position adjustment is applied, not the fingerprint amendment method&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td align=&quot;left&quot; valign=&quot;middle&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot;&gt;PDR-Only&lt;/td&gt;&lt;td align=&quot;left&quot; valign=&quot;middle&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot;&gt;The process that only performs PDR to form the pedestrian track&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td align=&quot;left&quot; valign=&quot;middle&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot;&gt;PDR-RMPAEC&lt;/td&gt;&lt;td align=&quot;left&quot; valign=&quot;middle&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot;&gt;The proposed scheme that performs position adjustment for the &lt;italic&gt;t&lt;/italic&gt;th one &lt;inline-formula&gt;&lt;mml:math id=&quot;mm142&quot;&gt;&lt;mml:mrow&gt;&lt;mml:mrow&gt;&lt;mml:mo&gt;(&lt;/mml:mo&gt;&lt;mml:mi&gt;t&lt;/mml:mi&gt;&lt;mml:mo&gt;&amp;gt;&lt;/mml:mo&gt;&lt;mml:mn&gt;1&lt;/mml:mn&gt;&lt;mml:mo&gt;)&lt;/mml:mo&gt;&lt;/mml:mrow&gt;&lt;/mml:mrow&gt;&lt;/mml:math&gt;&lt;/inline-formula&gt; by exploiting the intermediate RMPAEC radio map built by the previous &lt;inline-formula&gt;&lt;mml:math id=&quot;mm143&quot;&gt;&lt;mml:mrow&gt;&lt;mml:mrow&gt;&lt;mml:mi&gt;t&lt;/mml:mi&gt;&lt;mml:mo&gt;−&lt;/mml:mo&gt;&lt;mml:mn&gt;1&lt;/mml:mn&gt;&lt;/mml:mrow&gt;&lt;/mml:mrow&gt;&lt;/mml:math&gt;&lt;/inline-formula&gt; tracks&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td align=&quot;left&quot; valign=&quot;middle&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot;&gt;PDR-RMPA&lt;/td&gt;&lt;td align=&quot;left&quot; valign=&quot;middle&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot;&gt;The scheme that performs position adjustment for the &lt;italic&gt;t&lt;/italic&gt;th one &lt;inline-formula&gt;&lt;mml:math id=&quot;mm144&quot;&gt;&lt;mml:mrow&gt;&lt;mml:mrow&gt;&lt;mml:mo&gt;(&lt;/mml:mo&gt;&lt;mml:mi&gt;t&lt;/mml:mi&gt;&lt;mml:mo&gt;&amp;gt;&lt;/mml:mo&gt;&lt;mml:mn&gt;1&lt;/mml:mn&gt;&lt;mml:mo&gt;)&lt;/mml:mo&gt;&lt;/mml:mrow&gt;&lt;/mml:mrow&gt;&lt;/mml:math&gt;&lt;/inline-formula&gt; by exploiting the intermediate RMPA radio map built by the previous &lt;inline-formula&gt;&lt;mml:math id=&quot;mm145&quot;&gt;&lt;mml:mrow&gt;&lt;mml:mrow&gt;&lt;mml:mi&gt;t&lt;/mml:mi&gt;&lt;mml:mo&gt;−&lt;/mml:mo&gt;&lt;mml:mn&gt;1&lt;/mml:mn&gt;&lt;/mml:mrow&gt;&lt;/mml:mrow&gt;&lt;/mml:math&gt;&lt;/inline-formula&gt; tracks&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td align=&quot;left&quot; valign=&quot;middle&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot;&gt;FL-RMPAEC&lt;/td&gt;&lt;td align=&quot;left&quot; valign=&quot;middle&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot;&gt;The proposed scheme that uses the intermediate RMPAEC radio maps to perform RSS-fingerprinting localization for the step RSS samples on each track&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td align=&quot;left&quot; valign=&quot;middle&quot; style=&quot;border-bottom:solid thin&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot;&gt;FL-RMPA&lt;/td&gt;&lt;td align=&quot;left&quot; valign=&quot;middle&quot; style=&quot;border-bottom:solid thin&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot;&gt;The scheme that uses the intermediate RMPA radio maps to perform RSS-fingerprinting localization for the step RSS samples on each track&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;
</infon><offset>38070</offset><text>Scheme	Definition	 	RMPAEC	The proposed scheme that uses the position adjustment and equipment calibration	 	RMPA	The process that only the position adjustment is applied, not the fingerprint amendment method	 	PDR-Only	The process that only performs PDR to form the pedestrian track	 	PDR-RMPAEC	The proposed scheme that performs position adjustment for the tth one  by exploiting the intermediate RMPAEC radio map built by the previous  tracks	 	PDR-RMPA	The scheme that performs position adjustment for the tth one  by exploiting the intermediate RMPA radio map built by the previous  tracks	 	FL-RMPAEC	The proposed scheme that uses the intermediate RMPAEC radio maps to perform RSS-fingerprinting localization for the step RSS samples on each track	 	FL-RMPA	The scheme that uses the intermediate RMPA radio maps to perform RSS-fingerprinting localization for the step RSS samples on each track	 	</text></passage></document></collection>
