<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE collection SYSTEM "BioC.dtd">
<collection><source>PMC</source><date>20210503</date><key>pmc.key</key><document><id>8073482</id><infon key="license">CC BY</infon><passage><infon key="article-id_doi">10.3390/s21082857</infon><infon key="article-id_pmc">8073482</infon><infon key="article-id_pmid">33921567</infon><infon key="article-id_publisher-id">sensors-21-02857</infon><infon key="elocation-id">2857</infon><infon key="issue">8</infon><infon key="kwd">indoor localization visual-inertial SLAM constrained optimization path loss model particle swarm optimization Bluetooth low energy beacon</infon><infon key="license">Licensee MDPI, Basel, Switzerland. This article is an open access article distributed under the terms and conditions of the Creative Commons Attribution (CC BY) license (https://creativecommons.org/licenses/by/4.0/).</infon><infon key="name_0">surname:Tomažič;given-names:Simon</infon><infon key="name_1">surname:Škrjanc;given-names:Igor</infon><infon key="name_2">surname:Plets;given-names:David</infon><infon key="section_type">TITLE</infon><infon key="type">front</infon><infon key="volume">21</infon><infon key="year">2021</infon><offset>0</offset><text>An Automated Indoor Localization System for Online Bluetooth Signal Strength Modeling Using Visual-Inertial SLAM</text></passage><passage><infon key="section_type">ABSTRACT</infon><infon key="type">abstract</infon><offset>113</offset><text>Indoor localization is becoming increasingly important but is not yet widespread because installing the necessary infrastructure is often time-consuming and labor-intensive, which drives up the price. This paper presents an automated indoor localization system that combines all the necessary components to realize low-cost Bluetooth localization with the least data acquisition and network configuration overhead. The proposed system incorporates a sophisticated visual-inertial localization algorithm for a fully automated collection of Bluetooth signal strength data. A suitable collection of measurements can be quickly and easily performed, clearly defining which part of the space is not yet well covered by measurements. The obtained measurements, which can also be collected via the crowdsourcing approach, are used within a constrained nonlinear optimization algorithm. The latter is implemented on a smartphone and allows the online determination of the beacons’ locations and the construction of path loss models, which are validated in real-time using the particle swarm localization algorithm. The proposed system represents an advanced innovation as the application user can quickly find out when there are enough data collected for the expected radiolocation accuracy. In this way, radiolocation becomes much less time-consuming and labor-intensive as the configuration time is reduced by more than half. The experiment results show that the proposed system achieves a good trade-off in terms of network setup complexity and localization accuracy. The developed system for automated data acquisition and online modeling on a smartphone has proved to be very useful, as it can significantly simplify and speed up the installation of the Bluetooth network, especially in wide-area facilities.</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">title_1</infon><offset>1921</offset><text>1. Introduction</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>1937</offset><text>Recently, the social and commercial interest in Location-Based Services (LBS) is increasing significantly. The scientific field of indoor localization and navigation has experienced rapid development through many studies that consider advanced mobile and communication technologies. The purpose of developing new localization algorithms and navigation systems is to enable autonomous mobile systems to use these solutions in performing a specific task or to assist people who have lost their ability to navigate (e.g., blind people, people with Alzheimer’s disease). A secure, user-friendly, and accurate localization method that can run on a smartphone could open the door to many innovative applications and create new businesses opportunities. The global indoor location market is expected to reach a worth of $40.99 billion by 2022. A low-cost indoor positioning system (IPS) is very helpful as it can guide people through airports, shopping malls, museums etc.. In these environments, it can be very difficult to figure out where to go without spending a lot of time looking for directions. Accurate indoor localization represents a major challenge, mainly due to the fact that GNSS (Global Navigation Satellite System) signals are not available indoors. The modern smartphone is increasingly used as a Personal Navigation System (PNS) because it contains many sensors (accelerometer, gyroscope, magnetometer, altimeter, camera) and communication modules (Bluetooth, WiFi, NFC, 5G, ultra-wideband), and, last but not least, almost everyone has it in their pocket. Moreover, smartphones contain increasingly powerful multicore processors that allow the implementation of computationally intensive localization algorithms. A practical Indoor Positioning System (IPS) should have characteristics such as ease of implementation, acceptable localization accuracy, scalable system, feasible system cost and minimal computational complexity.</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>3879</offset><text>There are two main approaches to indoor localization, namely infrastructure-based and infrastructure-less approaches. The latter generally uses fingerprints from environmental features such as sound, light, magnetic field or smartphone sensors. Infrastructure-based methods may use pre-installed visual sensors or wireless technologies such as ZigBee, WiFi, Ultra-Wideband (UWB), Radio Frequency Identification (RFID) and Bluetooth Low Energy (BLE). An infrastructure-based indoor positioning system can be expensive, either because of the methods required or because of the expensive hardware components. Among all these technologies, BLE is one of the most widely used in ubiquitous computing and many Internet-of-Things (IoT) applications because it has many advantages such as low power consumption and low cost. BLE transmitters or beacons are portable and easy to deploy, they have the potential to provide high positioning accuracy, and they can provide advanced services to users. ZigBee consumes less energy than BLE, but it is not as widely supported on smartphones. WiFi is widely supported but it has a higher energy requirement than BLE. Regarding Ultra-Wideband (UWB), which is an emerging technology (still not supported on smartphones) in the field of indoor positioning, Dardari et al. provided a detailed comparative analysis of UWB positioning technologies.</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>5256</offset><text>Bluetooth low-energy transmitters are used in combination with various standards or protocols, such as iBeacon and Eddystone, which define how data packets are transmitted. For localization purposes, the advertising mode, in which data packets are sent periodically, is most established. In this mode, beacon messages are advertised on the three primary channels 37, 38 and 39, to reduce interference with other wireless technologies (e.g., with WiFi channels 1, 6 and 11) and increase redundancy. In addition to broadcast transmissions, the advertising channels allow a device to be discovered and securely connected.</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>5875</offset><text>Radio-based indoor positioning can generally be divided into three groups: Proximity, Time of Flight (TOF) measurements, and Received Signal Strength Indicator (RSSI)-based methods. In some cases, these have also been supplemented with an Angle of Arrival (AOA) localization approach. Depending on the localization approach chosen to calculate the current position, the following methods are most commonly used: Triangulation, trilateration and fingerprinting. Among these, fingerprinting is perhaps the most popular due to its simplicity: It is based on signal strength (RSSI) and its procedure is basically to collect the signal from the transmitters and assign it to a specific position. It consists of two phases: The offline (the calibration or training) phase and the online (the positioning) phase. The most common fingerprinting matching algorithms can be classified as: (a) probabilistic; (b) deterministic, such as k-nearest neighbor (or weighted k-nearest neighbor); and (c) machine learning- and sparse sampling-based. Positioning using BLE fingerprinting has the potential to achieve high accuracy if sufficiently dense training data are available. However, this process is time- and labor-intensive, which is its main drawback. Another problem associated with the fingerprinting method is that the time complexity of the execution phase increases with the size of the localization area. Moreover, the instability of RSSI in the indoor environment forces frequent updating of the radio map database. Therefore, a better alternative to the fingerprinting approach could be model-based methods, among which trilateration is the most popular. Localization solutions based on trilateration mostly use path loss models to estimate the range from the RSSI of the available beacons. In addition to the trilateration localization method, weighted centroid localization also relies on the signal propagation model to estimate the distance from the RSSI. The advantages of using models over the fingerprinting approach are a more effortless adjustment of the radio maps as the environment changes and better extrapolation of RSSI signals for areas where measurements have not been made.</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>8065</offset><text>The main challenge in fingerprinting- and model-based IPS is that accuracy is affected by several factors, such as signal-related and environment-related factors. In terms of signal-related factors, the following can often occur: Large fluctuations, reflection, path loss, non-line-of-sight conditions and multipath fading, and many of these factors also depend on the type of material present in the environment. For environment-related factors, the main ones are changes in hardware or furniture, the presence of people, or ambient humidity conditions.</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>8620</offset><text>A fully manual approach consisting of a calibration phase, e.g., the traditional manual survey, where the user collects the signal at discrete and uniformly distributed survey points.</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>8804</offset><text>A semi-automated approach that attempts to reduce the time and effort of the calibration phase, e.g., with the use of interpolation-based methods, the user attempts to construct a signal map from a sparse set of fingerprints collected while walking through a space.</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>9070</offset><text>A fully automated approach that does not require any calibration phase. It uses only online RSSI measurements or those that in some way merge the calibration phase and the positioning phase, e.g., implicit or explicit crowdsourcing that involves users in data collection.</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>9342</offset><text>Regardless of the localization technology used, there are several more or less labor-intensive approaches to collect localization data in the modeling or fingerprinting calibration phase, which can be classified as follows:</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>9566</offset><text>An automated system has many advantages in various approaches to data collection, e.g., quick and easy construction of datasets for model development or fingerprinting, beacon parameter studies, in-depth studies of beacon location and density in a particular environment, and rapid maintenance of the database as the environment changes.</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">title_2</infon><offset>9904</offset><text>Related Work</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>9918</offset><text>In this section, the works related to the study presented in this article are analyzed. First, an overview of the most commonly used technologies in indoor positioning is given, with a later focus on the technologies that use radio frequency signals, with a greater emphasis on BLE technology.</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>10212</offset><text>Self-localization of Unmanned Ground Vehicles (UGV) in indoor environments is already a well-developed field, as they can be equipped with more powerful hardware and additional sensors, e.g., depth camera, stereo camera, LIDAR, ultrasonic sensors, etc.. In conjunction with the sensor LIDAR, the method of simultaneous localization and mapping (SLAM) in particular has become established, which can also process the information obtained from the camera (visual SLAM). Within the visual localization approach, several algorithms have been developed to determine an agent’s motion (person, vehicle, robot) to which the camera is attached. The established methods include: Simultaneous Localization and Mapping (SLAM), Visual Odometry (VO), Structure From Motion (SFM) and image-to-map matching. The SLAM and SFM methods are fairly computationally demanding since they construct a 3D map of the environment in addition to the motion estimation.</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>11156</offset><text>For indoor localization purposes, the Inertial Navigation System (INS) based on the Inertial Measurement Unit (IMU) is often used as a complementary system to radio- or visual-based localization. The pedestrian inertial navigation system, which uses a dead reckoning approach, usually consists of a pedometer (or step counter) and a digital compass, which enable to calculate the current pose according to the starting point.</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>11582</offset><text>According to the currently existing solutions and studies, the most suitable smartphone indoor localization approach is based on the measurement of WiFi, Bluetooth and geomagnetic field signals. However, localization methods based on only one technology or sensor often cannot provide the required positioning accuracy, so new approaches based on sensor fusion are needed. Many studies show that a combination of inertial sensors and camera-based techniques has great potential since they provide better robustness and higher localization accuracy. The fusion of data from a camera and inertial sensors can be performed using Kalman filters as proposed by Sirtkaya et al.. Since image processing places a heavy load on the processor and therefore the battery, visual localization is not always the best choice for indoor localization. Using visual localization within a smartphone application can also be inconvenient as the user has to constantly provide the correct direction of the camera according to the environment. This is not necessary with the radiolocation, which is a significant advantage.</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>12684</offset><text>The disadvantage of indoor radiolocation over visual localization is that it requires some infrastructure. From this point of view, WiFi localization takes precedence over Bluetooth-based localization because WiFi networks are already present in most buildings. However, WiFi localization does not enable high localization accuracy in existing networks since WiFi access points are usually rather sparsely located. Due to this disadvantage in WiFi localization, Bluetooth Low Energy (BLE) has been established for the purpose of indoor localization. BLE has many advantages over WiFi: from the low price of transmitters, low power consumption and better robustness to the smaller size of integrated circuits. Li and Ma took a hybrid approach using BLE and WiFi. They used BLE tags and BLE/WiFi repeaters. Their system performs position calculations based on two values: RSSI fingerprint and cell of origin. They conducted experiments in a rest area and an office area and obtained errors of  and  m for these areas, respectively.</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>13714</offset><text>In the field of radiolocation, three approaches based on an analysis of Bluetooth signal strengths have been established: Methods that consider the strongest base station; methods that require the construction of path loss models, i.e., models of signal strengths (and use trilateration); and methods based on the principle of “fingerprints”. Tosi et al. reviewed in their study the main methodologies adopted to investigate BLE performance: they provided an analysis of the maximum number of connectable sensors, throughput, latency, power consumption and maximum achievable range, with the aim of identifying the current limitations of BLE technology. Zue et al. proposed a graph optimization-based approach that combines fingerprinting-based methods and range-based methods. The authors performed a test in an area of 90 m × 37 m with two different numbers of beacons, namely 24 beacons (sparse) and 48 beacons (dense), to see the effect of beacon density on the position estimates. They obtained errors of  and  m with the sparse beacon environment and dense beacon environment, respectively. In, the authors implemented a fingerprinting algorithm with fuzzy logic type-2 that is suitable for use as an indoor positioning method with BLE beacons with an average localization error of  m. Since this solution is based on fingerprinting, it requires a time-consuming offline phase and needs several additional algorithms for support. Thus, the computational resource consumption and algorithmic program complexity are comparatively high.</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>15259</offset><text>In previous studies, researchers have already focused on developing automated or semi-automated data acquisition systems. Peng et al., developed an efficient method to create and update a fingerprint database using an Unmanned Ground Vehicle (UGV) platform. To collect BLE and WiFi fingerprints, they used a smartphone installed on the UGV. According to the obtained results, the root mean square error of the positioning results was reduced by 20% compared to the traditional fingerprint collection methods. Gao et al. proposed the so-called path survey technique, in which radio maps are created from a sparse set of BLE and WiFi fingerprints. These were collected in such a way that a person walked through a room. With the obtained results, they showed that with a path-survey technique (and using Gaussian processes), the created maps are of the same quality as in the case of manual collection. The authors of proposed a semi-automated fingerprint collection system (static rotating platform) to simplify and speed up the data collection process for 50%. Similarly, Nastac et al. discussed the problem of automated data acquisition in fingerprint-based indoor positioning. As a platform for collecting data, they used a robot with simple wheel encoder sensors for odometry-based positioning. The benefit of using a robot was most evident in the time savings, as the data acquisition time could be reduced from 16 to 2 h for 3000 observations. In the process, the measurement accuracy could also be increased compared to the manual approach.</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>16806</offset><text>When setting up a BLE network, the main challenge is to mark the BLE transmitters’ locations on the map of the space and then collect the RSSI measurements for constructing the path loss model. These tasks are rather time-consuming since the network operator spends at least half a minute to measure the locations of each beacon (e.g., using a tape measure) or to collect the signal strengths at each measurement point. Therefore, this paper presents a fully automated approach for data collection and online model development on a smartphone, which is a significant advance over state-of-the-art solutions. The latter have one of the drawbacks, such as the requirement for manual measurement and inserting the beacon’s locations, offline data processing, or the use of expensive accessories, such as a wheeled robot. The proposed system allows real-time determination of in which part of the space there is a lack of measurements or which transmitter model is not yet good enough. With the implemented fusion of visual SLAM and inertial navigation on a smartphone, the proposed system enables accurate localization during BLE data collection, which is a prerequisite for good models of signal strengths. These are used for parallel online localization with the Particle Swarm Optimization (PSO)-based method, which enables reinitialization of the SLAM algorithm and real-time validation of the models. In the online model development phase, the beacon’s locations and the model parameters are calculated using the constrained nonlinear optimization method. Assume that the model construction completion criterion is met and the BLE localization accuracy is satisfactory. In this case, the visual SLAM algorithm can be turned off and the position is calculated using only the PSO method, which results in a lower CPU and battery load. In contrast to fingerprinting methods, the proposed system is quickly adaptable to changes in the room (e.g., a new beacon or furniture layout) and supports a crowdsourcing approach to data collection.</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>18849</offset><text>The paper is organized as follows. Section 2 describes a fully automated data collection approach based on visual-inertial SLAM. Section 3 provides the background to the online path loss model construction on a smartphone. In Section 4 the particle swarm optimization (PSO) method is proposed and described in detail. Section 5 presents the results of path loss model construction and Section 6 deals with pedestrian localization using the proposed algorithm. A discussion and concluding remarks are presented in Section 7 and Section 8, respectively.</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">title_1</infon><offset>19401</offset><text>2. SLAM-Based Fully Automated Approach for Data Collection</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>19461</offset><text>When gathering measurements of BLE signal strengths, real-time localization that enables accurate determination of reference positions in space is essential. In previous studies, we have already shown that an algorithm combining an inertial and visual navigation system is best suited for this purpose. We have developed a visual odometry that can very accurately determine the position of the smartphone in the short term by tracking incremental movements. The problem with visual odometry is that the position drifts over time and the error accumulates. To improve the localization accuracy over time using a camera and the smartphone’s inertial sensors, we used Google’s ARCore library in our fully automated system for data acquisition and model development. The ARCore algorithm is based on the state-of-the-art visual-inertial SLAM or Concurrent Odometry and Mapping (COM), which allows determining the pose of a smartphone with a monocular camera in an unknown environment, such as ORB-SLAM, MIMC-VINS or LSD-SLAM. Feature detection helps in calculating the relative change in position by searching for the same unique feature between frames. Using motion tracking capabilities, ARCore tracks the smartphone’s position relative to the world Coordinate System (C. S.) by identifying key feature points (see Figure 1). This visual information is combined with inertial measurements (i.e., linear acceleration and angular velocity) from IMU to estimate the relative 6-DOF pose (position and orientation) of the smartphone with respect to the world coordinate system. ARCore has the ability to track up to 20 images simultaneously, with tracking occurring on the smartphone. In addition, ARCore can store up to 1000 reference images in an image database.</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>21225</offset><text>ARCore’s tracking algorithm computes the 3D transformation from the world C. S. to the camera C. S. (Figure 1). To simplify pose representation, a 3D-to-2D transformation is required. First, to obtain the current 2D pose of a smartphone in the world C. S., the camera C. S. must be transformed to the current C. S. (from 3D to 2D), and second, the transformation  from the current C. S. to the world C. S. must be determined. The rotation matrix  determines the heading and the translation vector  determines the position of the smartphone in 2D space. The world C. S., which is determined by the first frame, is not movable and it represents a reference C. S. in which the final result of the visual localization is expressed.</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>21955</offset><text>Motion tracking module;</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>21979</offset><text>Mapping module;</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>21995</offset><text>Localization module.</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>22016</offset><text>The concept of the ARCore COM algorithm is shown in Figure 2. The algorithm is divided into three main modules:</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>22128</offset><text>ARCore takes visual data (captured images from smartphone camera) and inertial data (from IMU) as the main input sources. Each of the modules has a clear responsibility for the continuous COM process and they are highly dependent on each other.</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>22373</offset><text>The motion tracking module, also known as the front-end module, receives input data to compute a locally accurate pose estimate. From the visual data, it identifies good feature points and provides the captured feature descriptors. These descriptors also define orientation, gravity direction, scale and other aspects. The estimated pose is based on the feature descriptor correspondences from the previous frame. This module maintains only a limited history of tracked motion and treats any previously generated estimated feature point pose as fixed. Inertial sensors help correlate spatial features observed in one frame with spatial features observed in a subsequent frame to efficiently determine the change in pose. Therefore, the estimated pose can be performed with high frequency (due to the limited matching time) with a locally accurate pose. On the other hand, the estimated pose has almost no control over the drift or no means to check for loop closure since only a very limited history is stored.</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>23384</offset><text>The mapping module, also called the back-end module, takes as input the previously defined feature descriptors from the current frame. In this module, a 3D representation of the environment is created based on a stored variety of maps, feature descriptors, and estimated device location. It has an extensive history of 3D feature positions in the environment and poses of the smartphone. Matching the newly generated features with the fixed features in the multitude of maps is an extensive process. Therefore, the updating is done with a relatively low frequency. The 3D representation is sent to the localization module. Within the mapping module, ARCore provides spatial understanding based on plane detection in the depth map. Using the same feature points used for motion tracking, ARCore looks for clusters of points that appear to lie on common surfaces. These can be anything, such as floors, tables, or walls. These surfaces are stored as planes with a specific boundary.</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>24365</offset><text>The localization module identifies discrepancies between stored and observed feature descriptors. It performs loop closure by minimizing these discrepancies (e.g., with a least squares adjustment or bundle adjustment) to output a localized pose. If the error (difference between estimated pose and matched pose) is greater than a certain threshold, the localized pose snaps to the pose from the descriptor matching. This can happen for a variety of reasons (e.g., significant drift). Difficulties occur for real-world surfaces without texture (e.g., white wall) because ARCore uses feature points to detect surfaces. No useful features can be found in textureless regions. In case the SLAM algorithm fails, inertial navigation based on a pedometer and a digital compass becomes crucial. Inertial navigation is combined with visual localization using an extended Kalman filter (as described in our previous work).</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>25278</offset><text>In summary, the ARCore algorithm performs two types of outputs from the input data (see Figure 2). First, it provides a locally accurate and high frequency estimated pose with no control segment such as loop closure or drift correction. Second, it provides a localized pose with a lower update frequency due to extensive steps such as descriptor matching (with the full history) or an adaptation process.</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>25683</offset><text>Suppose path loss models for the current space do not already exist on the server. In that case, the visual-inertial localization method described above allows any smartphone application user to begin collecting BLE signal strength data for online path loss model construction and subsequent radiolocation. The smartphone user only needs to walk through the room while the visual-inertial localization system simultaneously determines their current pose and creates a visual and radio map of the environment. While using the smartphone application, it collects the following data into the database: BLE signal strengths with time and pose (position and orientation of the smartphone) where individual RSSI of a beacon with a unique ID is captured. The local data stored on the smartphone are used for online model construction, as described in the next section. The collected data, along with the path loss model parameters, are also sent to the server, where they are used for further post-processing and realization of the crowdsourcing approach.</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">title_1</infon><offset>26732</offset><text>3. Online Path Loss Model Construction</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>26772</offset><text>Measurements of BLE signal strengths can be described using a path loss (or path attenuation) model that determines a reduction in signal strength as the receiver moves away from the transmitter. The model has the general form of a nonlinear equation with three parameters: where  ( dBm represents a signal strength at distance of  m). From Equation (1) the signal strength R can be expressed: where the distance d is equal to:</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>27200</offset><text>Equation (3) contains the position  at which the signal strength R is measured, the location of the beacon in space  and the distance h, which represents the height difference between the smartphone and the known height at which the beacon is fixed. Constrained nonlinear optimization (in which a trust-region method is used) can be used to determine the model parameters , ,  and the position of the beacon in space  in a way that model (2) fits the measurements well. Since the optimization problem has multiple solutions, it is very important to strictly set the boundaries of model parameters and limit the space of beacons’ locations.</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">title_2</infon><offset>27842</offset><text>Constrained Nonlinear Optimization</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>27878</offset><text>Constrained nonlinear minimization involves finding the vector x, representing the local minimum of the scalar function , taking into account the given constraints on the vector x. These constraints can be given as: A linear constraint , a nonlinear constraint  or a constraint with given bounds (box constraints) . In the following, the emphasis will be on nonlinear optimization with box constraints l (vector of lower bounds) and u (vector of upper bounds). In this case, we solve the following problem:</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>28385</offset><text>In the vector of lower and upper bounds, some of the components may be unconstrained (equal to ). In the optimization process, the method returns a sequence of strictly feasible points. With the goal of preserving feasibility while achieving robust convergence behavior, the following techniques are used. In the first technique, the unconstrained Newton step is substituted with a scaled modified Newton step. In this way, the two-dimensional subspace S is defined using the preconditioned conjugate gradient method. The latter ensures global convergence. In the second technique, reflections are used to increase the step size. The scaled modified Newton step is obtained by considering the Kuhn–Tucker necessary conditions for Equation (4): where  is a diagonal scaling matrix:</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>29168</offset><text>If  and  then ;</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>29184</offset><text>If  and  then ;</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>29200</offset><text>If  and  then ;</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>29216</offset><text>If  and  then .</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>29232</offset><text>The vector  is defined below according to the gradient  and bounds, for each :</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>29311</offset><text>It is important to point out that the nonlinear system in Equation (5) is not differentiable when . However, by taking into account the restriction  and maintaining strict feasibility, such points can be avoided. According to the nonlinear system of Equation (5), the scaled modified Newton step  is computed as the solution of the linear system: at the kth iteration, where: and:</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>29692</offset><text>In Equation (9),  represents the Jacobian matrix of  and H is the Hessian matrix. The Jacobian matrix  is diagonal, where each element is equal to 0,  or 1. For the case where all elements of l and u are finite, the Jacobian matrix is equal to . If there is a point at which , then  might not be differentiable. However, at such a point the Jacobian  is determined. Such non-differentiability is not a problem, since it is not important which value  takes. Indeed, the function  is continuous, although  is discontinuous at this point.</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>30228</offset><text>Equation (7) considers the use of the affine transformation  (the matrix  is a symmetric matrix: ). This transformation converts the constrained nonlinear optimization problem into an unconstrained nonlinear optimization problem, minimizing the function in the new  coordinates. This means that in this case the following minimization problem is solved: or, if  is considered, then the following minimization problem can be solved in the original space: where: and:</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>30694</offset><text>In Equation (10)  is a positive scalar representing confidence interval width. During the optimization, it is adjusted according to the rules of the trust-region method.</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>30864</offset><text>The second technique of the constrained nonlinear optimization provides feasibility with the following condition  to be satisfied. Within this technique, so-called reflections are used, which have the purpose of increasing the step size. A single reflection step can be described as follows. If p represents a step that exceeds the first bound constraint (the ith upper or ith lower bound), then the reflection step is defined as  and  for the ith element for which a constraint is required.</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">title_1</infon><offset>31356</offset><text>4. Localization with Particle Swarm Optimization</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>31406</offset><text>Particle Swarm Optimization (PSO) is an optimization method that was initially described by Kennedy, Eberhart and Shi. In a practical application, they showed that the PSO method could be used to simulate social behavior within a school of fish or a flock of birds. PSO is a stochastic optimization method that robustly solves a given problem in successive iterations according to the selected objective function. This determines whether the candidate solutions of the problem are appropriately improved at each step. The candidate solutions are represented by particles forming a particle swarm. The solution to the optimization problem can be achieved by moving these particles within a constrained region using simple mathematical formulas. These determine a new position and velocity of the particles in each iteration. In the case where all particles converge to a common position, the global optimum of the objective function is found.</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>32348</offset><text>Let the position of the particle be denoted by  and its velocity by . In the swarm with S elements, the best position of each particle is denoted by  and the best position of the whole swarm is denoted by . The number of all required particles S can be inferred from the experimental results or calculated using the suggested formulas (e.g., , where n is the search area’s dimension).</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>32735</offset><text>In the PSO method a new position of particle  is determined by the model of particle movement that takes into account its current current velocity , position , the distance  between the particle’s best known position  and the particle’s current position  and the distance  between the best position of the whole swarm  at a given time and the particle’s current position : where: </text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>33122</offset><text>The parameter  can be used to determine whether accurate local exploration (a low value) or faster convergence (a high value) is preferred. The parameter represents the remembering rate or inertia weight, which determines to what extent the previous direction of the particle is preserved. The parameter  is a swarm confidence factor (or a social learning factor) and the parameter  is a self confidence factor (or cognitive learning factor). The parameters  and , which change randomly in the interval , represent random accelerations in the directions of the best position of the particle  and the best position of the whole swarm . In the process of the PSO configuration, according to a given optimization problem, great emphasis should be put on the choice of parameters ,  and , which have the most significant impact on the performance of the method.</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>33980</offset><text>The goal of PSO-based localization is to find a particle (i.e., the position of the smartphone)  in two-dimensional space for which the corresponding vector of signal strengths , obtained by the constructed path loss models  (for ), is the most similar to the vector of current measurements of signal strengths  according to the objective function: where m is the number of BLE transmitters considered for the calculation of the current position. The distance  (for ) represents the Euclidean distance between the current position of the smartphone  and the position of the ith BLE transmitter .</text></passage><passage><infon key="section_type">INTRO</infon><infon key="type">paragraph</infon><offset>34576</offset><text>Using the path loss models, the PSO localization method generates fingerprints for all particles in the swarm that represent the local radio map. The particles are uniformly distributed in the grid of the chosen size at the beginning of each optimization.</text></passage><passage><infon key="section_type">RESULTS</infon><infon key="type">title_1</infon><offset>34832</offset><text>5. Online Path Loss Model Construction Results</text></passage><passage><infon key="section_type">RESULTS</infon><infon key="type">paragraph</infon><offset>34880</offset><text>In order to evaluate the proposed system for automated localization data collection, online modeling and real-time PSO localization on a smartphone (Samsung Galaxy S9), an experiment was performed in am ∼80 m2 laboratory, where ten Bluetooth beacons from Kontakt.io were installed. The beacons were distributed around the room (taking into account certain constraints due to the layout of walls, doors, pillars and windows), as shown in Figure 3 (green squares). To reduce the influence of the presence of human bodies on the measurements of the signal strengths, the transmitters were mounted at the height of 2 m above the floor.</text></passage><passage><infon key="section_type">RESULTS</infon><infon key="type">paragraph</infon><offset>35514</offset><text>The measurements of the signal strengths from all ten beacons were collected in a way that a pedestrian repeatedly walked the path that is shown in Figure 3 while the smartphone recorded the data. The current position of the smartphone (calculated every 50 ms) was tracked by the algorithm combining the SLAM and the inertial navigation system (see Section 2). All of the positions where the measurements of the signal strengths were performed can be seen in Figure 3. This figure shows that the obtained position points deviate slightly from the intended route (the lines were marked on the ground). Part of this error is due to the visual-inertial localization algorithm (strong magnetic interference affects the digital compass) determining the position relative to the starting point, and part is due to the inaccurate walking of pedestrians along the line. Our results on visual localization include that under optimal environmental conditions, the errors are at most of a few tens of centimeters in a typical room-sized environment (without significant drift errors). However, as the speed of movement increases and in low light conditions, the overall performance may decrease.</text></passage><passage><infon key="section_type">RESULTS</infon><infon key="type">paragraph</infon><offset>36699</offset><text>Using the constrained nonlinear optimization and the signal strengths measurements from all Bluetooth beacons distributed in the room, the path loss models are constructed online on the smartphone. Figure 4 shows the fitting of the models to the measurements of the signal strengths after 30, 70 and 150 s of walking (for the BLE beacon with MAC address DA:57:30:EC:6A:D1 and position ) to demonstrate the influence of the amount of the collected measurements. After 30 s of walking, the pedestrian covered a distance of about 10 m along the corridor. After 70 s, half a T-shaped path was covered, and after 150 s, the pedestrian covered the entire T-shaped path (i.e., 36 m) from the start and back. The online construction of the path loss models and the determination of the beacons’ locations are performed in iterations every 10 s when enough new data are collected. The constrained nonlinear optimization runs in parallel to the real-time PSO localization on the smartphone, which means that they do not affect each other when individual CPU cores are fully utilized.</text></passage><passage><infon key="section_type">RESULTS</infon><infon key="type">paragraph</infon><offset>37775</offset><text>In the laboratory where the experiment was conducted, there were many obstacles (walls, wooden barriers, pillars) between the transmitters and the receiver (smartphone), while the pedestrian walked along the path shown in Figure 3. Due to absorption and reflection from the obstacles, the signal strength measurements were very noisy and scattered at the same distance from the beacon (see Figure 4).</text></passage><passage><infon key="section_type">RESULTS</infon><infon key="type">paragraph</infon><offset>38176</offset><text>During data collection and online model development, the measurements and the path loss models shift left and right according to the distance d (see Figure 4) since the positions of the beacons are estimated with the constrained nonlinear optimization algorithm in addition to the model parameters. With more available data, the positions of the beacons converge towards the correct position (see the upper part of Figure 5). Still, after a certain number of iterations, they do not improve any more because the measurements contain a lot of noise. For model improvement, it is crucial to collect measurements at different distances (from 1 m to 10 m) from the beacon because, in this way, the whole RSSI signal range is covered (e.g., from  to  dBm). The lower part of Figure 5 shows the BLE signal range (the difference between maximum and minimum signal strength) as a function of the travelled distance. As the signal range increased, the error of the beacon’s location decreased. When the signal range reached values close to 40 dBm, the error entered the steady-state. After 30 s of data acquisition, the amount of data was still too small or the measurements are not well distributed throughout the room, which is reflected in the transmitter’s inaccurate position and a worse model 1 in Figure 4. After 70 s, the signal range and the beacon’s location were satisfactory and the path loss model was also close to the optimum. With the additional data, the models and beacons’ locations can be improved only slightly.</text></passage><passage><infon key="section_type">RESULTS</infon><infon key="type">paragraph</infon><offset>39708</offset><text>In the online data collection process and model development, it is essential to know when there is enough data for a given beacon. For this purpose, two (stopping) criteria can be used, first, when the beacon’s location changes less than the selected threshold during two consecutive iterations (in our case  m) and second, when the signal range is large enough (in our case 35 dBm). The duration of collecting the measurements and the path length are worse for estimating whether there are enough measurements. Namely, if the measurements are collected only in the same position (for a long time) or at a long distance from the transmitter, they are not useful for the model construction.</text></passage><passage><infon key="section_type">RESULTS</infon><infon key="type">paragraph</infon><offset>40400</offset><text>Once the positions of all beacons and the path loss models are computed, the goal of the proposed system is achieved. However, if there are any changes to the space (e.g., change in the position of the beacons), the whole process can be repeated very quickly. The data and models can be created by one user or by multiple users of the smartphone application. With the crowdsourcing approach, large amounts of data can be collected on the server, which means that the models created online can definitely be improved offline using more sophisticated and computationally intensive methods (e.g., using the SUHICLUST algorithm that creates fuzzy path loss models with confidence intervals), if necessary.</text></passage><passage><infon key="section_type">RESULTS</infon><infon key="type">title_1</infon><offset>41102</offset><text>6. Particle Swarm Localization Results</text></passage><passage><infon key="section_type">RESULTS</infon><infon key="type">paragraph</infon><offset>41142</offset><text>In order to evaluate the online developed path loss models and the PSO-based localization algorithm, the measurements of signal strengths were collected with a smartphone along the same path used to construct the models and determine the beacons’ locations (see Figure 3). As the pedestrian walked along the path, each time the smartphone receiver measured at least one new signal strength that was greater than  dBm, a vector of signal strengths  was created from which the current position was determined. In our experiment, this happened on average every 30 ms, with each beacon sending a packet every 100 ms. For each beacon, the measurements of the signal strengths were independently filtered using the Savitzky–Golay filter (with frame length 99) to reduce variability. Each vector of current measurements (or fingerprint) consists of at least three signal strengths from different beacons. In our experiment, the fingerprints contained five elements, as this is optimal according to our previous study. To determine the accuracy of the PSO localization algorithm in real time, the visual-inertial SLAM algorithm was used to record the positions where the vectors  were created.</text></passage><passage><infon key="section_type">RESULTS</infon><infon key="type">paragraph</infon><offset>42332</offset><text>During the experiment, the pedestrian walked for 5 minutes in the laboratory. Their current location (see Figure 6) was determined in real time using the PSO localization method on a smartphone (Samsung Galaxy S9), where the latest path loss models were used. These were created online from the latest available data and they were further improved with new data if the stopping criteria were not yet met (see previous subsection).</text></passage><passage><infon key="section_type">RESULTS</infon><infon key="type">paragraph</infon><offset>42763</offset><text>When selecting the PSO search area, the current position of the receiver (i.e., the smartphone) must be approximately known. During PSO initialization, the position can be calculated using the location of the nearest beacon (with the highest signal strength) or using the fast linear trilateration method. In this case, the room-level accuracy is acceptable. Thereafter, when PSO provides the first positioning results, the current position of the receiver can be used in the next iteration to determine the PSO search area (all particles are arranged around the current position).</text></passage><passage><infon key="section_type">RESULTS</infon><infon key="type">paragraph</infon><offset>43345</offset><text>With the aim of obtaining the optimal parameters of the PSO method, the offline simulation experiments were performed in the Matlab environment. In this way, the following parameters were obtained: ,  and . The optimal size of the search area with a square shape is 0.8 m × 0.8 m. By choosing the boundaries of the search area, a filtering effect is achieved in addition to reducing the computational complexity.</text></passage><passage><infon key="section_type">RESULTS</infon><infon key="type">paragraph</infon><offset>43759</offset><text>Since the PSO algorithm must operate in real-time on a smartphone, the parameters were chosen as a trade-off between computational speed and localization accuracy. By running simulations, the number of particles and iterations needed was also determined. The use of eight particles and twenty iterations within the PSO optimization proved to be optimal, as a larger number of particles or iterations only increases the computational complexity and does not improve the result.</text></passage><passage><infon key="section_type">RESULTS</infon><infon key="type">paragraph</infon><offset>44236</offset><text>As path loss models and beacons’ locations were more accurately determined with more available data, the localization error decreased. The graph of the cumulative distribution function (Figure 7) shows that after 310 s of walking in 70% of the position estimates, the error was less than 1 m and the average error was less than  m. For comparison, when incomplete models built with a smaller dataset were used, the results show that after 30 s of walking in 44% of the position estimates the error was smaller than 1 m and after 70 s there were 52% of the position estimates where the error was smaller than 1 m.</text></passage><passage><infon key="section_type">RESULTS</infon><infon key="type">paragraph</infon><offset>44851</offset><text>The results of the online construction of the path loss model show that in the first 80 s after data collection began, the models and the beacons’ locations changed drastically. Consequently, the positioning errors obtained with the PSO localization method (see Figure 8) were substantially larger in the first 80 s (or for the first eight model series). Thereafter, the mean positioning error decreased more slowly. The decrease of error can be described by an exponential model  (where t is time) with the coefficient of determination . In the first evaluation of the mean error, about 150 positions and in the last evaluation, about 5500 positions were used for error estimation. The number of calculated positions (with PSO method) used for estimating the mean error increased practically linearly with time. Since path loss model construction and PSO localization can run simultaneously on a smartphone, the comparison of the current radio and visual-inertial localization results can be used as a real-time criterion to determine in which part of space additional signal strength data need to be collected to improve the latest online computed models and consequently the localization accuracy.</text></passage><passage><infon key="section_type">RESULTS</infon><infon key="type">paragraph</infon><offset>46054</offset><text>When comparing the computational complexity, the localization algorithm based on the PSO method turns out to be better than the one based on the nonlinear trilateration, as it is 20 times faster for the same localization accuracy (on the smartphone, it spends about 5 ms computing a position). The experiment was performed on a Samsung Galaxy S9 smartphone (with a Samsung Exynos 9810 processor) using offline signal strength measurements and prebuilt path loss models. Average execution time for both localization methods was calculated from 5000 repetitions of the different position calculations.</text></passage><passage><infon key="section_type">DISCUSS</infon><infon key="type">title_1</infon><offset>46654</offset><text>7. Discussion</text></passage><passage><infon key="section_type">DISCUSS</infon><infon key="type">paragraph</infon><offset>46668</offset><text>With the implementation of an automated system for BLE data collection, online path loss model construction, and real-time PSO localization on a smartphone, radiolocation becomes significantly less time- and labor-intensive by reducing configuration time (i.e., the time from the start of data collection to the moment when Bluetooth localization becomes operational) by more than . With the manual collecting of signal strength data in the ∼80 m2 laboratory, where at least 80 measurement points are needed (previous studies showed that at least one measurement point per square meter is required), the network operator would spend about 40 min (half a minute to manually measure each location in the room and collect the signal strengths). To measure ten beacons’ locations in our laboratory, the network operator would spend an additional 5 min. A non-automated localization system also requires some time to transfer the data to the computer and compute the path loss models or create the map of fingerprints. For comparison, the proposed automated system required 5 min for collecting all signal strength data (more than 5000 measurement points), calculating path loss models, and determining all beacons’ locations.</text></passage><passage><infon key="section_type">DISCUSS</infon><infon key="type">paragraph</infon><offset>47896</offset><text>Compared to our previous study, in which a visual odometry algorithm was developed to determine the reference positions during the collection of signal strengths, the new proposed automated system has many advantages. The visual-inertial SLAM does not require an initial camera calibration with a checkerboard to obtain intrinsic and extrinsic parameters describing the transformation between the camera and base coordinate systems. Therefore, the smartphone does not need to be at the same height above the ground during the walk. The visual-inertial SLAM also includes loop closure, which is very important to reduce position drift and error accumulation. Therefore, the proposed system can be used for data collection in wide area facilities such as airports, hospitals, museums, etc. The visual localization system based on SLAM is very accurate, but it can also fail, especially in dark places and places where the surfaces are without texture. In such a case, the fusion with inertial sensors and methods becomes crucial. The visual-based localization system has proven to be less suitable to be used as a primary localization system, as the image processing puts a heavy load on the processor, which drains the battery quickly. During the experiment, the two big cores of the Samsung Exynos 9810 processor (with four big cores operating at  GHz and four small cores operating at  GHz) were loaded more than 90% on average while using visual localization. By contrast, PSO localization is computationally much less demanding and can run on a small core (loaded less than 60% on average), saving energy.</text></passage><passage><infon key="section_type">DISCUSS</infon><infon key="type">paragraph</infon><offset>49505</offset><text>In addition to the visual-inertial SLAM, another important component of the proposed system is the constrained nonlinear optimization, which allows constructing path loss models and determining the beacons’ locations online on a smartphone. The results of the experiment show that the beacons’ locations can be determined fairly accurately, as the final average errors are less than half a meter for all the beacons. These errors are not problematic since the obtained beacons’ locations can also be represented as virtual beacons’ locations that best fit the corresponding path loss models with the constrained parameters. In this way the deviations (due to the obstacles) in the path loss model can be partially compensated for with the virtual beacon’s location and consequently the model can better fit the measurements. It has been found that the constraints on the parameters of the path loss model can be quite stringent, since the same beacons located in open space have very similar path loss models. The constraints on the beacons’ locations do not impose an additional burden since the dimensions of the area where the transmitters are located are usually known. When implementing algorithms on a smartphone, the main concern is that they can run in real time or in limited time. Therefore, a trade-off between the accuracy and speed of the algorithms is required. Since the proposed system is designed to support the crowdsourcing approach, all the collected data are transferred to the server database where the models already created online can be additionally improved if needed. The proposed solution is suitable for both BLE network operators and end users. Anyone who enables visual localization on a smartphone can start simultaneous localization and data collection. Based on the proposed criteria (signal range, beacons’ location stability and accuracy of radiolocation compared to visual-inertial localization), the following information is available to the user collecting data: For which beacon in the room there are not enough measurements yet or in which part of the room the radiolocation is still poor and additional measurements are needed.</text></passage><passage><infon key="section_type">DISCUSS</infon><infon key="type">paragraph</infon><offset>51689</offset><text>For real-time radiolocation on a smartphone, the PSO-based method was chosen instead of nonlinear trilateration. The reason is that PSO localization has been shown to be much faster. However, in order to achieve good localization accuracy, the parameters of the PSO optimization method must be carefully chosen, otherwise the algorithm may become slow and inefficient. The PSO localization is more flexible in the sense of a small temporary radio map generation, which consumes very little memory for the same accuracy as the fingerprinting method. The obtained localization results are slightly worse (with an average error of  m) than in the case where the locations of the beacons are known and the path loss models are constructed offline using more sophisticated methods (with an average error of  m). Since most location applications (for large facilities such as airports) do not require high localization accuracy, the obtained results represent a good compromise according to the complexity of the network deployment and the localization accuracy.</text></passage><passage><infon key="section_type">DISCUSS</infon><infon key="type">paragraph</infon><offset>52746</offset><text>The proposed system is not limited to collecting BLE signal strengths and PSO radiolocation. Depending on the needs, it can be modified to collect data about the WiFi, UWB or geomagnetic field signals and perform localization based on these signals.</text></passage><passage><infon key="section_type">CONCL</infon><infon key="type">title_1</infon><offset>52996</offset><text>8. Conclusions</text></passage><passage><infon key="section_type">CONCL</infon><infon key="type">paragraph</infon><offset>53011</offset><text>This paper presents a sophisticated indoor localization system that combines visual-inertial positioning for accurate data collection and Bluetooth positioning for real-time smartphone tracking with low power consumption. The visual-inertial SLAM algorithm, which is part of the ARCore library, successfully fuses information from the camera and inertial sensors to provide accurate localization in large spaces over a long period of time. In this way, a suitable collection of measurements of signal strengths can be made quickly and easily, clearly defining which part of the space is not yet well covered by measurements. The path loss models and the beacons’ locations are determined online on a smartphone using the constrained nonlinear optimization, which is the main contribution. The constrained nonlinear optimization considers all the necessary bounds on the model parameters and the map of the space when constructing the path loss models. The obtained beacons’ locations are determined fairly accurately (with an average error of  m) and the models fit the measurements well, although they contain a lot of noise. From the obtained radiolocation results, it can be seen that the proposed PSO-based localization algorithm (with an average error of  m) combined with online constructed models can meet most localization requirements in smartphone applications. The developed system for automated data collection and online modeling on a smartphone has proven to be very useful as it can greatly simplify and speed up the installation of the Bluetooth network, especially in wide-area facilities such as airports, hospitals, museums etc., where the configuration time can be reduced by more than 90%. Further development of the system will focus on the more sophisticated fusion of the radiolocation and inertial system.</text></passage><passage><infon key="section_type">CONCL</infon><infon key="type">footnote</infon><offset>54846</offset><text>Publisher’s Note: MDPI stays neutral with regard to jurisdictional claims in published maps and institutional affiliations.</text></passage><passage><infon key="section_type">AUTH_CONT</infon><infon key="type">title</infon><offset>54972</offset><text>Author Contributions</text></passage><passage><infon key="section_type">AUTH_CONT</infon><infon key="type">paragraph</infon><offset>54993</offset><text>Conceptualization, S.T. and I.Š.; methodology, S.T. and I.Š.; software, S.T. and I.Š.; validation, S.T. and I.Š.; formal analysis, S.T. and I.Š.; investigation, S.T. and I.Š.; resources, S.T. and I.Š.; data curation, S.T. and I.Š.; writing—original draft preparation, S.T. and I.Š.; writing—review and editing, S.T. and I.Š.; visualization, S.T. and I.Š.; supervision, S.T. and I.Š.; project administration, S.T. and I.Š. All authors have read and agreed to the published version of the manuscript.</text></passage><passage><infon key="section_type">ACK_FUND</infon><infon key="type">title</infon><offset>55509</offset><text>Funding</text></passage><passage><infon key="section_type">ACK_FUND</infon><infon key="type">paragraph</infon><offset>55517</offset><text>This research received no external funding.</text></passage><passage><infon key="section_type">ACK_FUND</infon><infon key="type">title</infon><offset>55561</offset><text>Institutional Review Board Statement</text></passage><passage><infon key="section_type">ACK_FUND</infon><infon key="type">paragraph</infon><offset>55598</offset><text>Not applicable.</text></passage><passage><infon key="section_type">ACK_FUND</infon><infon key="type">title</infon><offset>55614</offset><text>Informed Consent Statement</text></passage><passage><infon key="section_type">ACK_FUND</infon><infon key="type">paragraph</infon><offset>55641</offset><text>Not applicable.</text></passage><passage><infon key="section_type">COMP_INT</infon><infon key="type">title</infon><offset>55657</offset><text>Conflicts of Interest</text></passage><passage><infon key="section_type">COMP_INT</infon><infon key="type">paragraph</infon><offset>55679</offset><text>The authors declare no conflict of interest.</text></passage><passage><infon key="section_type">REF</infon><infon key="type">title</infon><offset>55724</offset><text>References</text></passage><passage><infon key="elocation-id">7230</infon><infon key="name_0">surname:Subedi;given-names:S.</infon><infon key="name_1">surname:Pyun;given-names:J.Y.</infon><infon key="pub-id_doi">10.3390/s20247230</infon><infon key="section_type">REF</infon><infon key="source">Sensors</infon><infon key="type">ref</infon><infon key="volume">20</infon><infon key="year">2020</infon><offset>55735</offset><text>A Survey of Smartphone-Based Indoor Positioning System Using RF-Based Wireless Technologies</text></passage><passage><infon key="elocation-id">728</infon><infon key="name_0">surname:Montoliu;given-names:R.</infon><infon key="name_1">surname:Sansano;given-names:E.</infon><infon key="name_2">surname:Gascó;given-names:A.</infon><infon key="name_3">surname:Belmonte;given-names:O.</infon><infon key="name_4">surname:Caballer;given-names:A.</infon><infon key="pub-id_doi">10.3390/electronics9050728</infon><infon key="section_type">REF</infon><infon key="source">Electronics</infon><infon key="type">ref</infon><infon key="volume">9</infon><infon key="year">2020</infon><offset>55827</offset><text>Indoor Positioning for Monitoring Older Adults at Home: Wi-Fi and BLE Technologies in Real Scenarios</text></passage><passage><infon key="fpage">10283</infon><infon key="lpage">10294</infon><infon key="name_0">surname:Dinh;given-names:T.M.T.</infon><infon key="name_1">surname:Duong;given-names:N.S.</infon><infon key="name_2">surname:Sandrasegaran;given-names:K.</infon><infon key="pub-id_doi">10.1109/JSEN.2020.2989411</infon><infon key="section_type">REF</infon><infon key="source">IEEE Sens. J.</infon><infon key="type">ref</infon><infon key="volume">20</infon><infon key="year">2020</infon><offset>55928</offset><text>Smartphone-Based Indoor Positioning Using BLE iBeacon and Reliable Lightweight Fingerprint Map</text></passage><passage><infon key="fpage">63</infon><infon key="lpage">78</infon><infon key="name_0">surname:Ramos;given-names:J.</infon><infon key="name_1">surname:Costa;given-names:A.</infon><infon key="name_2">surname:Novais;given-names:P.</infon><infon key="name_3">surname:Neves;given-names:J.</infon><infon key="section_type">REF</infon><infon key="source">Int. J. Artif. Intell.</infon><infon key="type">ref</infon><infon key="volume">12</infon><infon key="year">2014</infon><offset>56023</offset><text>Interactive Guiding and Localization Platform</text></passage><passage><infon key="fpage">234</infon><infon key="lpage">237</infon><infon key="name_0">surname:Essa;given-names:E.</infon><infon key="name_1">surname:Abdullah;given-names:B.A.</infon><infon key="name_2">surname:Wahba;given-names:A.</infon><infon key="pub-id_doi">10.1109/ICCES48960.2019.9068142</infon><infon key="section_type">REF</infon><infon key="source">Proceedings of the 2019 14th International Conference on Computer Engineering and Systems (ICCES)</infon><infon key="type">ref</infon><offset>56069</offset><text>Improve Performance of Indoor Positioning System using BLE</text></passage><passage><infon key="fpage">243</infon><infon key="lpage">251</infon><infon key="name_0">surname:Honkavirta;given-names:V.</infon><infon key="name_1">surname:Perala;given-names:T.</infon><infon key="name_2">surname:Ali-Loytty;given-names:S.</infon><infon key="name_3">surname:Piche;given-names:R.</infon><infon key="section_type">REF</infon><infon key="source">Proceedings of the 2009 6th Workshop on Positioning, Navigation and Communication</infon><infon key="type">ref</infon><offset>56128</offset><text>A comparative survey of WLAN location fingerprinting methods</text></passage><passage><infon key="fpage">79</infon><infon key="lpage">82</infon><infon key="name_0">surname:Misal;given-names:S.R.</infon><infon key="name_1">surname:Prajwal;given-names:S.R.</infon><infon key="name_2">surname:Niveditha;given-names:H.M.</infon><infon key="name_3">surname:Vinayaka;given-names:H.M.</infon><infon key="name_4">surname:Veena;given-names:S.</infon><infon key="pub-id_doi">10.1109/ICCMC48092.2020.ICCMC-00015</infon><infon key="section_type">REF</infon><infon key="source">Proceedings of the 2020 Fourth International Conference on Computing Methodologies and Communication (ICCMC)</infon><infon key="type">ref</infon><offset>56189</offset><text>Indoor Positioning System (IPS) Using ESP32, MQTT and Bluetooth</text></passage><passage><infon key="elocation-id">971</infon><infon key="name_0">surname:Taşkan;given-names:A.K.</infon><infon key="name_1">surname:Alemdar;given-names:H.</infon><infon key="pub-id_doi">10.3390/s21030971</infon><infon key="pub-id_pmid">33535509</infon><infon key="section_type">REF</infon><infon key="source">Sensors</infon><infon key="type">ref</infon><infon key="volume">21</infon><infon key="year">2021</infon><offset>56253</offset><text>Obstruction-Aware Signal-Loss-Tolerant Indoor Positioning Using Bluetooth Low Energy</text></passage><passage><infon key="fpage">564</infon><infon key="lpage">567</infon><infon key="name_0">surname:Fang;given-names:S.</infon><infon key="name_1">surname:Wang;given-names:C.</infon><infon key="name_2">surname:Huang;given-names:T.</infon><infon key="name_3">surname:Yang;given-names:C.</infon><infon key="name_4">surname:Chen;given-names:Y.</infon><infon key="pub-id_doi">10.1109/LCOMM.2012.022112.120131</infon><infon key="section_type">REF</infon><infon key="source">IEEE Commun. Lett.</infon><infon key="type">ref</infon><infon key="volume">16</infon><infon key="year">2012</infon><offset>56338</offset><text>An Enhanced ZigBee Indoor Positioning System With an Ensemble Approach</text></passage><passage><infon key="fpage">1226</infon><infon key="lpage">1235</infon><infon key="name_0">surname:Zhang;given-names:D.</infon><infon key="name_1">surname:Yang;given-names:L.T.</infon><infon key="name_2">surname:Chen;given-names:M.</infon><infon key="name_3">surname:Zhao;given-names:S.</infon><infon key="name_4">surname:Guo;given-names:M.</infon><infon key="name_5">surname:Zhang;given-names:Y.</infon><infon key="pub-id_doi">10.1109/JSYST.2014.2346625</infon><infon key="section_type">REF</infon><infon key="source">IEEE Syst. J.</infon><infon key="type">ref</infon><infon key="volume">10</infon><infon key="year">2016</infon><offset>56409</offset><text>Real-Time Locating Systems Using Active RFID for Internet of Things</text></passage><passage><infon key="fpage">702</infon><infon key="lpage">705</infon><infon key="name_0">surname:Kuxdorf-Alkirata;given-names:N.</infon><infon key="name_1">surname:Maus;given-names:G.</infon><infon key="name_2">surname:Brückmann;given-names:D.</infon><infon key="pub-id_doi">10.1109/MWSCAS.2019.8885056</infon><infon key="section_type">REF</infon><infon key="source">Proceedings of the 2019 IEEE 62nd International Midwest Symposium on Circuits and Systems (MWSCAS)</infon><infon key="type">ref</infon><offset>56477</offset><text>Efficient calibration for robust indoor localization based on low-cost BLE sensors</text></passage><passage><infon key="fpage">404</infon><infon key="lpage">426</infon><infon key="name_0">surname:Dardari;given-names:D.</infon><infon key="name_1">surname:Conti;given-names:A.</infon><infon key="name_2">surname:Ferner;given-names:U.</infon><infon key="name_3">surname:Giorgetti;given-names:A.</infon><infon key="name_4">surname:Win;given-names:M.Z.</infon><infon key="pub-id_doi">10.1109/JPROC.2008.2008846</infon><infon key="section_type">REF</infon><infon key="source">Proc. IEEE</infon><infon key="type">ref</infon><infon key="volume">97</infon><infon key="year">2009</infon><offset>56560</offset><text>Ranging With Ultrawide Bandwidth Signals in Multipath Environments</text></passage><passage><infon key="comment">Available online: https://developer.apple.com/ibeacon/</infon><infon key="section_type">REF</infon><infon key="type">ref</infon><offset>56627</offset><text>iBeacon</text></passage><passage><infon key="comment">Available online: https://developers.google.com/beacons/</infon><infon key="section_type">REF</infon><infon key="type">ref</infon><offset>56635</offset><text>Eddystone</text></passage><passage><infon key="fpage">1</infon><infon key="lpage">8</infon><infon key="name_0">surname:Naghdi;given-names:S.</infon><infon key="name_1">surname:O’Keefe;given-names:K.</infon><infon key="pub-id_doi">10.1109/IPIN.2019.8911816</infon><infon key="section_type">REF</infon><infon key="source">Proceedings of the 2019 International Conference on Indoor Positioning and Indoor Navigation (IPIN)</infon><infon key="type">ref</infon><offset>56645</offset><text>Trilateration with BLE RSSI Accounting for Pathloss Due to Human Obstacles</text></passage><passage><infon key="fpage">162439</infon><infon key="lpage">162453</infon><infon key="name_0">surname:Ye;given-names:F.</infon><infon key="name_1">surname:Chen;given-names:R.</infon><infon key="name_2">surname:Guo;given-names:G.</infon><infon key="name_3">surname:Peng;given-names:X.</infon><infon key="name_4">surname:Liu;given-names:Z.</infon><infon key="name_5">surname:Huang;given-names:L.</infon><infon key="pub-id_doi">10.1109/ACCESS.2019.2951281</infon><infon key="section_type">REF</infon><infon key="source">IEEE Access</infon><infon key="type">ref</infon><infon key="volume">7</infon><infon key="year">2019</infon><offset>56720</offset><text>A Low-Cost Single-Anchor Solution for Indoor Positioning Using BLE and Inertial Sensor Data</text></passage><passage><infon key="fpage">51484</infon><infon key="lpage">51498</infon><infon key="name_0">surname:Yadav;given-names:R.K.</infon><infon key="name_1">surname:Bhattarai;given-names:B.</infon><infon key="name_2">surname:Gang;given-names:H.</infon><infon key="name_3">surname:Pyun;given-names:J.</infon><infon key="pub-id_doi">10.1109/ACCESS.2019.2910314</infon><infon key="section_type">REF</infon><infon key="source">IEEE Access</infon><infon key="type">ref</infon><infon key="volume">7</infon><infon key="year">2019</infon><offset>56812</offset><text>Trusted K Nearest Bayesian Estimation for Indoor Positioning System</text></passage><passage><infon key="elocation-id">3087</infon><infon key="name_0">surname:De Blasio;given-names:G.S.</infon><infon key="name_1">surname:Rodríguez-Rodríguez;given-names:J.C.</infon><infon key="name_2">surname:García;given-names:C.R.</infon><infon key="name_3">surname:Quesada-Arencibia;given-names:A.</infon><infon key="pub-id_doi">10.3390/s19143087</infon><infon key="section_type">REF</infon><infon key="source">Sensors</infon><infon key="type">ref</infon><infon key="volume">19</infon><infon key="year">2019</infon><offset>56880</offset><text>Beacon-Related Parameters of Bluetooth Low Energy: Development of a Semi-Automatic System to Study Their Impact on Indoor Positioning Systems</text></passage><passage><infon key="fpage">1</infon><infon key="lpage">2</infon><infon key="name_0">surname:Echizennya;given-names:K.</infon><infon key="name_1">surname:Kondo;given-names:K.</infon><infon key="pub-id_doi">10.1109/ICCE-Taiwan49838.2020.9258282</infon><infon key="section_type">REF</infon><infon key="source">Proceedings of the 2020 IEEE International Conference on Consumer Electronics—Taiwan (ICCE-Taiwan)</infon><infon key="type">ref</infon><offset>57022</offset><text>Estimation of indoor position and motion direction for smartphones using DNN to BLE beacon signal strength</text></passage><passage><infon key="fpage">1</infon><infon key="lpage">8</infon><infon key="name_0">surname:Sato;given-names:A.</infon><infon key="name_1">surname:Nakajima;given-names:M.</infon><infon key="name_2">surname:Kohtake;given-names:N.</infon><infon key="pub-id_doi">10.1109/IPIN.2019.8911778</infon><infon key="section_type">REF</infon><infon key="source">Proceedings of the 2019 International Conference on Indoor Positioning and Indoor Navigation (IPIN)</infon><infon key="type">ref</infon><offset>57129</offset><text>Rapid BLE Beacon Localization with Range-Only EKF-SLAM Using Beacon Interval Constraint</text></passage><passage><infon key="fpage">1160</infon><infon key="lpage">1163</infon><infon key="name_0">surname:Nakano;given-names:M.</infon><infon key="name_1">surname:Komuro;given-names:N.</infon><infon key="name_2">surname:Kawamoto;given-names:K.</infon><infon key="pub-id_doi">10.1109/GCCE46687.2019.9015459</infon><infon key="section_type">REF</infon><infon key="source">Proceedings of the 2019 IEEE 8th Global Conference on Consumer Electronics (GCCE)</infon><infon key="type">ref</infon><offset>57217</offset><text>Indoor Positioning Method based on BLE Location Fingerprint with Statistics Approach</text></passage><passage><infon key="elocation-id">719</infon><infon key="name_0">surname:Nagah Amr;given-names:M.</infon><infon key="name_1">surname:ELAttar;given-names:H.M.</infon><infon key="name_2">surname:Abd El Azeem;given-names:M.H.</infon><infon key="name_3">surname:El Badawy;given-names:H.</infon><infon key="pub-id_doi">10.3390/s21030719</infon><infon key="pub-id_pmid">33494417</infon><infon key="section_type">REF</infon><infon key="source">Sensors</infon><infon key="type">ref</infon><infon key="volume">21</infon><infon key="year">2021</infon><offset>57302</offset><text>An Enhanced Indoor Positioning Technique Based on a Novel Received Signal Strength Indicator Distance Prediction and Correction Model</text></passage><passage><infon key="fpage">24</infon><infon key="lpage">27</infon><infon key="name_0">surname:Phutcharoen;given-names:K.</infon><infon key="name_1">surname:Chamchoy;given-names:M.</infon><infon key="name_2">surname:Supanakoon;given-names:P.</infon><infon key="pub-id_doi">10.1109/ECTIDAMTNCON48261.2020.9090691</infon><infon key="section_type">REF</infon><infon key="source">Proceedings of the 2020 Joint International Conference on Digital Arts, Media and Technology with ECTI Northern Section Conference on Electrical, Electronics, Computer and Telecommunications Engineering (ECTI DAMT NCON)</infon><infon key="type">ref</infon><offset>57436</offset><text>Accuracy Study of Indoor Positioning with Bluetooth Low Energy Beacons</text></passage><passage><infon key="elocation-id">1350</infon><infon key="name_0">surname:Naghdi;given-names:S.</infon><infon key="name_1">surname:O’Keefe;given-names:K.</infon><infon key="pub-id_doi">10.3390/s20051350</infon><infon key="pub-id_pmid">32121466</infon><infon key="section_type">REF</infon><infon key="source">Sensors</infon><infon key="type">ref</infon><infon key="volume">20</infon><infon key="year">2020</infon><offset>57507</offset><text>Detecting and Correcting for Human Obstacles in BLE Trilateration Using Artificial Intelligence</text></passage><passage><infon key="fpage">1209</infon><infon key="lpage">1220</infon><infon key="name_0">surname:Weichselbaum;given-names:J.</infon><infon key="name_1">surname:Zinner;given-names:C.</infon><infon key="name_2">surname:Gebauer;given-names:O.</infon><infon key="name_3">surname:Pree;given-names:W.</infon><infon key="pub-id_doi">10.1016/j.compind.2013.03.015</infon><infon key="section_type">REF</infon><infon key="source">Comput. Ind.</infon><infon key="type">ref</infon><infon key="volume">64</infon><infon key="year">2013</infon><offset>57603</offset><text>Accurate 3D-vision-based obstacle detection for an autonomous train</text></passage><passage><infon key="fpage">99</infon><infon key="lpage">110</infon><infon key="name_0">surname:Durrant-Whyte;given-names:H.</infon><infon key="name_1">surname:Bailey;given-names:T.</infon><infon key="pub-id_doi">10.1109/MRA.2006.1638022</infon><infon key="section_type">REF</infon><infon key="source">IEEE Robot. Autom. Mag.</infon><infon key="type">ref</infon><infon key="volume">13</infon><infon key="year">2006</infon><offset>57671</offset><text>Simultaneous localization and mapping: Part I</text></passage><passage><infon key="comment">Part II</infon><infon key="fpage">834</infon><infon key="lpage">849</infon><infon key="name_0">surname:Engel;given-names:J.</infon><infon key="name_1">surname:Schöps;given-names:T.</infon><infon key="name_2">surname:Cremers;given-names:D.</infon><infon key="section_type">REF</infon><infon key="source">Computer Vision—ECCV 2014, Proceedings of the 13th European Conference, Zurich, Switzerland, 6–12 September 2014</infon><infon key="type">ref</infon><infon key="year">2014</infon><offset>57717</offset><text>LSD-SLAM: Large-Scale Direct Monocular SLAM</text></passage><passage><infon key="fpage">652</infon><infon key="lpage">659</infon><infon key="name_0">surname:Nister;given-names:D.</infon><infon key="name_1">surname:Naroditsky;given-names:O.</infon><infon key="name_2">surname:Bergen;given-names:J.</infon><infon key="section_type">REF</infon><infon key="source">Proceedings of the 2004 IEEE Computer Society Conference on Computer Vision and Pattern Recognition (CVPR 2004)</infon><infon key="type">ref</infon><infon key="volume">Volume 1</infon><offset>57761</offset><text>Visual odometry</text></passage><passage><infon key="fpage">220</infon><infon key="lpage">225</infon><infon key="name_0">surname:Silva;given-names:B.</infon><infon key="name_1">surname:Burlamaqui;given-names:A.</infon><infon key="name_2">surname:Gonçalves;given-names:L.</infon><infon key="section_type">REF</infon><infon key="source">Proceedings of the 2012 Brazilian Robotics Symposium and Latin American Robotics Symposium</infon><infon key="type">ref</infon><offset>57777</offset><text>On Monocular Visual Odometry for Indoor Ground Vehicles</text></passage><passage><infon key="fpage">2548</infon><infon key="lpage">2552</infon><infon key="name_0">surname:Straub;given-names:J.</infon><infon key="name_1">surname:Hilsenbeck;given-names:S.</infon><infon key="name_2">surname:Schroth;given-names:G.</infon><infon key="name_3">surname:Huitl;given-names:R.</infon><infon key="name_4">surname:Möller;given-names:A.</infon><infon key="name_5">surname:Steinbach;given-names:E.</infon><infon key="section_type">REF</infon><infon key="source">Proceedings of the 2013 IEEE International Conference on Image Processing</infon><infon key="type">ref</infon><offset>57833</offset><text>Fast relocalization for visual odometry using binary features</text></passage><passage><infon key="fpage">1</infon><infon key="lpage">8</infon><infon key="name_0">surname:Hili;given-names:K.</infon><infon key="name_1">surname:Sammut;given-names:A.</infon><infon key="section_type">REF</infon><infon key="source">Proceedings of the 2016 International Conference on Indoor Positioning and Indoor Navigation (IPIN)</infon><infon key="type">ref</infon><offset>57895</offset><text>Pedestrian tracking through inertial measurements</text></passage><passage><infon key="fpage">1</infon><infon key="lpage">7</infon><infon key="name_0">surname:Dehghanian;given-names:V.</infon><infon key="name_1">surname:Lowe;given-names:M.</infon><infon key="section_type">REF</infon><infon key="source">Proceedings of the 2016 International Conference on Indoor Positioning and Indoor Navigation (IPIN)</infon><infon key="type">ref</infon><offset>57945</offset><text>RSS-INS integration for cooperative indoor positioning</text></passage><passage><infon key="fpage">1</infon><infon key="lpage">7</infon><infon key="name_0">surname:Dwiyasa;given-names:F.</infon><infon key="name_1">surname:Lim;given-names:M.H.</infon><infon key="section_type">REF</infon><infon key="source">Proceedings of the 2016 International Conference on Indoor Positioning and Indoor Navigation (IPIN)</infon><infon key="type">ref</infon><offset>58000</offset><text>A survey of problems and approaches in wireless-based indoor positioning</text></passage><passage><infon key="fpage">105</infon><infon key="lpage">108</infon><infon key="name_0">surname:Kawecki;given-names:R.</infon><infon key="name_1">surname:Korbel;given-names:P.</infon><infon key="name_2">surname:Hausman;given-names:S.</infon><infon key="pub-id_doi">10.1109/SPS.2019.8882040</infon><infon key="section_type">REF</infon><infon key="source">Proceedings of the 2019 Signal Processing Symposium (SPSympo)</infon><infon key="type">ref</infon><offset>58073</offset><text>Influence of User Mobility on the Accuracy of Indoor Positioning with the use of RSSI and Particle Filter Algorithm</text></passage><passage><infon key="fpage">1347</infon><infon key="lpage">1370</infon><infon key="name_0">surname:Davidson;given-names:P.</infon><infon key="name_1">surname:Piché;given-names:R.</infon><infon key="pub-id_doi">10.1109/COMST.2016.2637663</infon><infon key="section_type">REF</infon><infon key="source">IEEE Commun. Surv. Tutorials</infon><infon key="type">ref</infon><infon key="volume">19</infon><infon key="year">2017</infon><offset>58189</offset><text>A Survey of Selected Indoor Positioning Methods for Smartphones</text></passage><passage><infon key="fpage">1</infon><infon key="lpage">8</infon><infon key="name_0">surname:Guo;given-names:X.</infon><infon key="name_1">surname:Shao;given-names:W.</infon><infon key="name_2">surname:Zhao;given-names:F.</infon><infon key="name_3">surname:Wang;given-names:Q.</infon><infon key="name_4">surname:Li;given-names:D.</infon><infon key="name_5">surname:Luo;given-names:H.</infon><infon key="section_type">REF</infon><infon key="source">Proceedings of the 2016 International Conference on Indoor Positioning and Indoor Navigation (IPIN)</infon><infon key="type">ref</infon><offset>58253</offset><text>WiMag: Multimode Fusion Localization System based on Magnetic/WiFi/PDR</text></passage><passage><infon key="fpage">119</infon><infon key="lpage">134</infon><infon key="name_0">surname:Tomažič;given-names:S.</infon><infon key="name_1">surname:Škrjanc;given-names:I.</infon><infon key="pub-id_doi">10.1016/j.compind.2015.05.003</infon><infon key="section_type">REF</infon><infon key="source">Comput. Ind.</infon><infon key="type">ref</infon><infon key="volume">74</infon><infon key="year">2015</infon><offset>58324</offset><text>Fusion of visual odometry and inertial navigation system on a smartphone</text></passage><passage><infon key="fpage">219</infon><infon key="lpage">226</infon><infon key="name_0">surname:Sirtkaya;given-names:S.</infon><infon key="name_1">surname:Seymen;given-names:B.</infon><infon key="name_2">surname:Alatan;given-names:A.A.</infon><infon key="section_type">REF</infon><infon key="source">Proceedings of the 16th International Conference on Information Fusion</infon><infon key="type">ref</infon><offset>58397</offset><text>Loosely coupled Kalman filtering for fusion of Visual Odometry and inertial navigation</text></passage><passage><infon key="fpage">1</infon><infon key="lpage">8</infon><infon key="name_0">surname:Marouane;given-names:C.</infon><infon key="name_1">surname:Maier;given-names:M.</infon><infon key="name_2">surname:Leupold;given-names:A.</infon><infon key="name_3">surname:Linnhoff-Popien;given-names:C.</infon><infon key="section_type">REF</infon><infon key="source">Proceedings of the 2016 International Conference on Indoor Positioning and Indoor Navigation (IPIN)</infon><infon key="type">ref</infon><offset>58484</offset><text>Visual odometry using motion vectors from visual feature points</text></passage><passage><infon key="comment">Available online: https://www.bluetooth.org/docman/handlers/downloaddoc.ashx?doc_id=229737</infon><infon key="section_type">REF</infon><infon key="type">ref</infon><infon key="year">2010</infon><offset>58548</offset><text>Specification of the Bluetooth System</text></passage><passage><infon key="fpage">118</infon><infon key="lpage">136</infon><infon key="name_0">surname:Zhuang;given-names:Y.</infon><infon key="name_1">surname:Syed;given-names:Z.</infon><infon key="name_2">surname:Georgy;given-names:J.</infon><infon key="name_3">surname:El-Sheimy;given-names:N.</infon><infon key="pub-id_doi">10.1016/j.pmcj.2015.02.001</infon><infon key="section_type">REF</infon><infon key="source">Pervasive Mob. Comput.</infon><infon key="type">ref</infon><infon key="volume">18</infon><infon key="year">2015</infon><offset>58586</offset><text>Autonomous Smartphone-based WiFi Positioning System by Using Access Points Localization and Crowdsourcing</text></passage><passage><infon key="fpage">2418</infon><infon key="lpage">2428</infon><infon key="name_0">surname:Faragher;given-names:R.</infon><infon key="name_1">surname:Harle;given-names:R.</infon><infon key="pub-id_doi">10.1109/JSAC.2015.2430281</infon><infon key="section_type">REF</infon><infon key="source">IEEE J. Sel. Areas Commun.</infon><infon key="type">ref</infon><infon key="volume">33</infon><infon key="year">2015</infon><offset>58692</offset><text>Location Fingerprinting With Bluetooth Low Energy Beacons</text></passage><passage><infon key="fpage">1</infon><infon key="lpage">6</infon><infon key="name_0">surname:Li;given-names:H.</infon><infon key="name_1">surname:Ma;given-names:H.</infon><infon key="pub-id_doi">10.1109/HealthCom.2018.8531137</infon><infon key="section_type">REF</infon><infon key="source">Proceedings of the 2018 IEEE 20th International Conference on e-Health Networking, Applications and Services (Healthcom)</infon><infon key="type">ref</infon><offset>58750</offset><text>A Low Complexity Low Power Indoor Positioning System Based on Wireless Received Signal Strength</text></passage><passage><infon key="elocation-id">2898</infon><infon key="name_0">surname:Tosi;given-names:J.</infon><infon key="name_1">surname:Taffoni;given-names:F.</infon><infon key="name_2">surname:Santacatterina;given-names:M.</infon><infon key="name_3">surname:Sannino;given-names:R.</infon><infon key="name_4">surname:Formica;given-names:D.</infon><infon key="pub-id_doi">10.3390/s17122898</infon><infon key="pub-id_pmid">29236085</infon><infon key="section_type">REF</infon><infon key="source">Sensors</infon><infon key="type">ref</infon><infon key="volume">17</infon><infon key="year">2017</infon><offset>58846</offset><text>Performance Evaluation of Bluetooth Low Energy: A Systematic Review</text></passage><passage><infon key="elocation-id">3736</infon><infon key="name_0">surname:Zuo;given-names:Z.</infon><infon key="name_1">surname:Liu;given-names:L.</infon><infon key="name_2">surname:Zhang;given-names:L.</infon><infon key="name_3">surname:Fang;given-names:Y.</infon><infon key="pub-id_doi">10.3390/s18113736</infon><infon key="pub-id_pmid">30400185</infon><infon key="section_type">REF</infon><infon key="source">Sensors</infon><infon key="type">ref</infon><infon key="volume">18</infon><infon key="year">2018</infon><offset>58914</offset><text>Indoor Positioning Based on Bluetooth Low-Energy Beacons Adopting Graph Optimization</text></passage><passage><infon key="elocation-id">2114</infon><infon key="name_0">surname:Al-Madani;given-names:B.</infon><infon key="name_1">surname:Orujov;given-names:F.</infon><infon key="name_2">surname:Maskeliūnas;given-names:R.</infon><infon key="name_3">surname:Damaševičius;given-names:R.</infon><infon key="name_4">surname:Venčkauskas;given-names:A.</infon><infon key="pub-id_doi">10.3390/s19092114</infon><infon key="section_type">REF</infon><infon key="source">Sensors</infon><infon key="type">ref</infon><infon key="volume">19</infon><infon key="year">2019</infon><offset>58999</offset><text>Fuzzy Logic Type-2 Based Wireless Indoor Localization System for Navigation of Visually Impaired People in Buildings</text></passage><passage><infon key="elocation-id">3419</infon><infon key="name_0">surname:Peng;given-names:Y.</infon><infon key="name_1">surname:Niu;given-names:X.</infon><infon key="name_2">surname:Tang;given-names:J.</infon><infon key="name_3">surname:Mao;given-names:D.</infon><infon key="name_4">surname:Qian;given-names:C.</infon><infon key="pub-id_doi">10.3390/s18103419</infon><infon key="pub-id_pmid">30322016</infon><infon key="section_type">REF</infon><infon key="source">Sensors</infon><infon key="type">ref</infon><infon key="volume">18</infon><infon key="year">2018</infon><offset>59116</offset><text>Fast Signals of Opportunity Fingerprint Database Maintenance with Autonomous Unmanned Ground Vehicle for Indoor Positioning</text></passage><passage><infon key="fpage">1</infon><infon key="lpage">8</infon><infon key="name_0">surname:Gao;given-names:C.</infon><infon key="name_1">surname:Harle;given-names:R.</infon><infon key="pub-id_doi">10.1109/IPIN.2016.7743662</infon><infon key="section_type">REF</infon><infon key="source">Proceedings of the 2016 International Conference on Indoor Positioning and Indoor Navigation (IPIN)</infon><infon key="type">ref</infon><offset>59240</offset><text>Easing the survey burden: Quantitative assessment of low-cost signal surveys for indoor positioning</text></passage><passage><infon key="fpage">321</infon><infon key="lpage">326</infon><infon key="name_0">surname:Nastac;given-names:D.</infon><infon key="name_1">surname:Lehan;given-names:E.</infon><infon key="name_2">surname:Iftimie;given-names:F.A.</infon><infon key="name_3">surname:Arsene;given-names:O.</infon><infon key="name_4">surname:Cramariuc;given-names:B.</infon><infon key="pub-id_doi">10.1109/ICComm.2018.8484796</infon><infon key="section_type">REF</infon><infon key="source">Proceedings of the 2018 International Conference on Communications (COMM)</infon><infon key="type">ref</infon><offset>59340</offset><text>Automatic Data Acquisition with Robots for Indoor Fingerprinting</text></passage><passage><infon key="fpage">2015</infon><infon key="lpage">2024</infon><infon key="name_0">surname:Tomažič;given-names:S.</infon><infon key="name_1">surname:Dovžan;given-names:D.</infon><infon key="name_2">surname:Škrjanc;given-names:I.</infon><infon key="pub-id_doi">10.1109/TIE.2018.2840525</infon><infon key="section_type">REF</infon><infon key="source">IEEE Trans. Ind. Electron.</infon><infon key="type">ref</infon><infon key="volume">66</infon><infon key="year">2019</infon><offset>59405</offset><text>Confidence-Interval-Fuzzy-Model-Based Indoor Localization</text></passage><passage><infon key="fpage">611</infon><infon key="lpage">625</infon><infon key="name_0">surname:Engel;given-names:J.</infon><infon key="name_1">surname:Koltun;given-names:V.</infon><infon key="name_2">surname:Cremers;given-names:D.</infon><infon key="pub-id_doi">10.1109/TPAMI.2017.2658577</infon><infon key="pub-id_pmid">28422651</infon><infon key="section_type">REF</infon><infon key="source">IEEE Trans. Pattern Anal. Mach. Intell.</infon><infon key="type">ref</infon><infon key="volume">40</infon><infon key="year">2018</infon><offset>59463</offset><text>Direct Sparse Odometry</text></passage><passage><infon key="comment">Available online: https://developers.google.com/ar/</infon><infon key="section_type">REF</infon><infon key="type">ref</infon><offset>59486</offset><text>ARCore</text></passage><passage><infon key="elocation-id">2567</infon><infon key="name_0">surname:Piao;given-names:J.C.</infon><infon key="name_1">surname:Kim;given-names:S.D.</infon><infon key="pub-id_doi">10.3390/s17112567</infon><infon key="pub-id_pmid">29112143</infon><infon key="section_type">REF</infon><infon key="source">Sensors</infon><infon key="type">ref</infon><infon key="volume">17</infon><infon key="year">2017</infon><offset>59493</offset><text>Adaptive Monocular Visual–Inertial SLAM for Real-Time Augmented Reality Applications in Mobile Devices</text></passage><passage><infon key="fpage">1</infon><infon key="lpage">5</infon><infon key="name_0">surname:Morar;given-names:A.</infon><infon key="name_1">surname:Băluţoiu;given-names:M.A.</infon><infon key="name_2">surname:Moldoveanu;given-names:A.</infon><infon key="name_3">surname:Moldoveanu;given-names:F.</infon><infon key="name_4">surname:Butean;given-names:A.</infon><infon key="name_5">surname:Asavei;given-names:V.</infon><infon key="pub-id_doi">10.1109/RoEduNet51892.2020.9324849</infon><infon key="section_type">REF</infon><infon key="source">Proceedings of the 2020 19th RoEduNet Conference: Networking in Education and Research (RoEduNet)</infon><infon key="type">ref</infon><offset>59598</offset><text>Evaluation of the ARCore Indoor Localization Technology</text></passage><passage><infon key="name_0">surname:Nerurkar;given-names:E.</infon><infon key="name_1">surname:Lynen;given-names:S.</infon><infon key="name_2">surname:Zhao;given-names:S.</infon><infon key="section_type">REF</infon><infon key="source">US Patent</infon><infon key="type">ref</infon><infon key="year">2017</infon><offset>59654</offset><text>System and Method for Concurrent Odometry and Mapping</text></passage><passage><infon key="fpage">1255</infon><infon key="lpage">1262</infon><infon key="name_0">surname:Mur-Artal;given-names:R.</infon><infon key="name_1">surname:Tardós;given-names:J.D.</infon><infon key="pub-id_doi">10.1109/TRO.2017.2705103</infon><infon key="section_type">REF</infon><infon key="source">IEEE Trans. Robot.</infon><infon key="type">ref</infon><infon key="volume">33</infon><infon key="year">2017</infon><offset>59708</offset><text>ORB-SLAM2: An Open-Source SLAM System for Monocular, Stereo, and RGB-D Cameras</text></passage><passage><infon key="fpage">1</infon><infon key="lpage">21</infon><infon key="name_0">surname:Eckenhoff;given-names:K.</infon><infon key="name_1">surname:Geneva;given-names:P.</infon><infon key="name_2">surname:Huang;given-names:G.</infon><infon key="pub-id_doi">10.1109/TRO.2021.3049445</infon><infon key="section_type">REF</infon><infon key="source">IEEE Trans. Robot.</infon><infon key="type">ref</infon><infon key="year">2021</infon><offset>59787</offset><text>MIMC-VINS: A Versatile and Resilient Multi-IMU Multi-Camera Visual-Inertial Navigation System</text></passage><passage><infon key="fpage">298</infon><infon key="lpage">372</infon><infon key="name_0">surname:Triggs;given-names:B.</infon><infon key="name_1">surname:McLauchlan;given-names:P.F.</infon><infon key="name_2">surname:Hartley;given-names:R.I.</infon><infon key="name_3">surname:Fitzgibbon;given-names:A.W.</infon><infon key="section_type">REF</infon><infon key="source">Proceedings of the International Workshop on Vision Algorithms: Theory and Practice (ICCV ’99)</infon><infon key="type">ref</infon><infon key="year">1999</infon><offset>59881</offset><text>Bundle Adjustment—A Modern Synthesis</text></passage><passage><infon key="fpage">553</infon><infon key="lpage">572</infon><infon key="name_0">surname:Moré;given-names:J.J.</infon><infon key="name_1">surname:Sorensen;given-names:D.C.</infon><infon key="pub-id_doi">10.1137/0904038</infon><infon key="section_type">REF</infon><infon key="source">SIAM J. Sci. Stat. Comput.</infon><infon key="type">ref</infon><infon key="volume">4</infon><infon key="year">1983</infon><offset>59920</offset><text>Computing a Trust Region Step</text></passage><passage><infon key="fpage">626</infon><infon key="lpage">637</infon><infon key="name_0">surname:Steihaug;given-names:T.</infon><infon key="pub-id_doi">10.1137/0720042</infon><infon key="section_type">REF</infon><infon key="source">SIAM J. Numer. Anal.</infon><infon key="type">ref</infon><infon key="volume">20</infon><infon key="year">1983</infon><offset>59950</offset><text>The Conjugate Gradient Method and Trust Regions in Large Scale Optimization</text></passage><passage><infon key="fpage">418</infon><infon key="lpage">445</infon><infon key="name_0">surname:Coleman;given-names:T.</infon><infon key="name_1">surname:Li;given-names:Y.</infon><infon key="pub-id_doi">10.1137/0806023</infon><infon key="section_type">REF</infon><infon key="source">SIAM J. Optim.</infon><infon key="type">ref</infon><infon key="volume">6</infon><infon key="year">1996</infon><offset>60026</offset><text>An Interior Trust Region Approach for Nonlinear Minimization Subject to Bounds</text></passage><passage><infon key="fpage">1</infon><infon key="lpage">23</infon><infon key="name_0">surname:Branch;given-names:M.A.</infon><infon key="name_1">surname:Coleman;given-names:T.F.</infon><infon key="name_2">surname:Li;given-names:Y.</infon><infon key="pub-id_doi">10.1137/S1064827595289108</infon><infon key="section_type">REF</infon><infon key="source">SIAM J. Sci. Comput.</infon><infon key="type">ref</infon><infon key="volume">21</infon><infon key="year">1999</infon><offset>60105</offset><text>A Subspace, Interior, and Conjugate Gradient Method for Large-Scale Bound-Constrained Minimization Problems</text></passage><passage><infon key="fpage">61</infon><infon key="lpage">72</infon><infon key="name_0">surname:Coleman;given-names:T.F.</infon><infon key="name_1">surname:Verma;given-names:A.</infon><infon key="pub-id_doi">10.1023/A:1011271406353</infon><infon key="section_type">REF</infon><infon key="source">Comput. Optim. Appl.</infon><infon key="type">ref</infon><infon key="volume">20</infon><infon key="year">2001</infon><offset>60213</offset><text>A Preconditioned Conjugate Gradient Approach to Linear Equality Constrained Minimization</text></passage><passage><infon key="fpage">102</infon><infon key="lpage">120</infon><infon key="name_0">surname:Nocedal;given-names:J.</infon><infon key="name_1">surname:Wright;given-names:S.J.</infon><infon key="section_type">REF</infon><infon key="source">Numerical Optimization</infon><infon key="type">ref</infon><infon key="year">2006</infon><offset>60302</offset></passage><passage><infon key="fpage">1942</infon><infon key="lpage">1948</infon><infon key="name_0">surname:Kennedy;given-names:J.</infon><infon key="name_1">surname:Eberhart;given-names:R.</infon><infon key="section_type">REF</infon><infon key="source">Proceedings of the IEEE International Conference on Neural Networks</infon><infon key="type">ref</infon><infon key="year">1995</infon><offset>60303</offset><text>Particle swarm optimization</text></passage><passage><infon key="fpage">69</infon><infon key="lpage">73</infon><infon key="name_0">surname:Shi;given-names:Y.</infon><infon key="name_1">surname:Eberhart;given-names:R.</infon><infon key="section_type">REF</infon><infon key="source">Proceedings of the 1998 IEEE International Conference on Evolutionary Computation Proceedings—IEEE World Congress on Computational Intelligence (Cat. No.98TH8360)</infon><infon key="type">ref</infon><offset>60331</offset><text>A modified particle swarm optimizer</text></passage><passage><infon key="fpage">303</infon><infon key="lpage">308</infon><infon key="name_0">surname:Kennedy;given-names:J.</infon><infon key="section_type">REF</infon><infon key="source">Proceedings of the IEEE International Conference on Evolutionary Computation</infon><infon key="type">ref</infon><offset>60367</offset><text>The particle swarm: Social adaptation of knowledge</text></passage><passage><infon key="fpage">281</infon><infon key="lpage">295</infon><infon key="name_0">surname:Taherkhani;given-names:M.</infon><infon key="name_1">surname:Safabakhsh;given-names:R.</infon><infon key="pub-id_doi">10.1016/j.asoc.2015.10.004</infon><infon key="section_type">REF</infon><infon key="source">Appl. Soft Comput.</infon><infon key="type">ref</infon><infon key="volume">38</infon><infon key="year">2016</infon><offset>60418</offset><text>A novel stability-based adaptive inertia weight for particle swarm optimization</text></passage><passage><infon key="fpage">591</infon><infon key="lpage">600</infon><infon key="name_0">surname:Shi;given-names:Y.</infon><infon key="name_1">surname:Eberhart;given-names:R.C.</infon><infon key="section_type">REF</infon><infon key="source">Proceedings of the 7th International Conference on Evolutionary Programming VII (EP ’98)</infon><infon key="type">ref</infon><infon key="year">1998</infon><offset>60498</offset><text>Parameter Selection in Particle Swarm Optimization</text></passage><passage><infon key="fpage">84</infon><infon key="lpage">88</infon><infon key="name_0">surname:Eberhart;given-names:R.C.</infon><infon key="name_1">surname:Edu;given-names:E.I.</infon><infon key="section_type">REF</infon><infon key="source">Proceedings of the 2000 Congress on Evolutionary Computation</infon><infon key="type">ref</infon><offset>60549</offset><text>Comparing inertia weights and constriction factors in particle swarm optimization</text></passage><passage><infon key="fpage">317</infon><infon key="lpage">325</infon><infon key="name_0">surname:Trelea;given-names:I.C.</infon><infon key="pub-id_doi">10.1016/S0020-0190(02)00447-7</infon><infon key="section_type">REF</infon><infon key="source">Inf. Process. Lett.</infon><infon key="type">ref</infon><infon key="volume">85</infon><infon key="year">2003</infon><offset>60631</offset><text>The particle swarm optimization algorithm: Convergence analysis and parameter selection</text></passage><passage><infon key="comment">Available online: https://kontakt.io/beacons-tags/</infon><infon key="section_type">REF</infon><infon key="type">ref</infon><offset>60719</offset><text>Bluetooth Beacons</text></passage><passage><infon key="fpage">111</infon><infon key="lpage">117</infon><infon key="name_0">surname:Schafer;given-names:R.W.</infon><infon key="pub-id_doi">10.1109/MSP.2011.941097</infon><infon key="section_type">REF</infon><infon key="source">IEEE Signal Process. Mag.</infon><infon key="type">ref</infon><infon key="volume">28</infon><infon key="year">2011</infon><offset>60737</offset><text>What Is a Savitzky-Golay Filter? [Lecture Notes]</text></passage><passage><infon key="fpage">1</infon><infon key="lpage">8</infon><infon key="name_0">surname:Tomažič;given-names:S.</infon><infon key="name_1">surname:Škrjanc;given-names:I.</infon><infon key="pub-id_doi">10.1109/FUZZ-IEEE.2018.8491546</infon><infon key="section_type">REF</infon><infon key="source">Proceedings of the 2018 IEEE International Conference on Fuzzy Systems (FUZZ-IEEE)</infon><infon key="type">ref</infon><offset>60786</offset><text>Indoor RSSI-based Localization using Fuzzy Path Loss Models</text></passage><passage><infon key="file">sensors-21-02857-g001.jpg</infon><infon key="id">sensors-21-02857-f001</infon><infon key="section_type">FIG</infon><infon key="type">fig_caption</infon><offset>60846</offset><text>The ARCore tracking algorithm calculates transformation from camera C. S. to world C. S.</text></passage><passage><infon key="file">sensors-21-02857-g002.jpg</infon><infon key="id">sensors-21-02857-f002</infon><infon key="section_type">FIG</infon><infon key="type">fig_caption</infon><offset>60935</offset><text>The concept of the ARCore concurrent odometry and mapping algorithm.</text></passage><passage><infon key="file">sensors-21-02857-g003.jpg</infon><infon key="id">sensors-21-02857-f003</infon><infon key="section_type">FIG</infon><infon key="type">fig_caption</infon><offset>61004</offset><text>Locations of BLE beacons (green squares) and walked path (determined with the visual-inertial SLAM) during automated measurement capture. The ground truth path is marked with the red dashed line. The white pixels represent empty space and grey pixels represent occupied space.</text></passage><passage><infon key="file">sensors-21-02857-g004.jpg</infon><infon key="id">sensors-21-02857-f004</infon><infon key="section_type">FIG</infon><infon key="type">fig_caption</infon><offset>61281</offset><text>Fitting the online constructed path loss models (2) to the measurements of the signal strengths after 30, 70 and 150 s of walking (for the BLE beacon with MAC address DA:57:30:EC:6A:D1). Since the data contain a lot of noise, the coefficient of determination for all models is quite low: .</text></passage><passage><infon key="file">sensors-21-02857-g005.jpg</infon><infon key="id">sensors-21-02857-f005</infon><infon key="section_type">FIG</infon><infon key="type">fig_caption</infon><offset>61571</offset><text>The upper part of the figure shows the error between the beacon’s actual location (with MAC address DA:57:30:EC:6A:D1) and the position calculated by the constrained nonlinear optimization method. The error depends on the time or the travelled distance. The lower part of the figure shows the BLE signal range (the difference between maximum and minimum signal strength) as a function of time or the travelled distance.</text></passage><passage><infon key="file">sensors-21-02857-g006.jpg</infon><infon key="id">sensors-21-02857-f006</infon><infon key="section_type">FIG</infon><infon key="type">fig_caption</infon><offset>61993</offset><text>The indoor positioning results (after 5 min of walking) obtained using the online constructed path loss models and the PSO localization method.</text></passage><passage><infon key="file">sensors-21-02857-g007.jpg</infon><infon key="id">sensors-21-02857-f007</infon><infon key="section_type">FIG</infon><infon key="type">fig_caption</infon><offset>62137</offset><text>The cumulative distribution functions for the positioning errors in determining the positions by the PSO method after 30, 70 and 310 s of walking.</text></passage><passage><infon key="file">sensors-21-02857-g008.jpg</infon><infon key="id">sensors-21-02857-f008</infon><infon key="section_type">FIG</infon><infon key="type">fig_caption</infon><offset>62284</offset><text>The mean localization error as a function of time or the travelled distance. The decrease of error can be described by an exponential model tt) with the coefficient of determination .</text></passage></document></collection>
